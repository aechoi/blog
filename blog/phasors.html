<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-08-15">

<title>Phasors – alex choi</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-b18ea123664ff360e15090714624b84a.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script async="" src="https://hypothes.is/embed.js"></script>
<script>
  window.document.addEventListener("DOMContentLoaded", function (_event) {
    document.body.classList.add('hypothesis-enabled');
  });
</script>
<script type="module" src="../site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="../site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">alex choi</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> 
<span class="menu-text">home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">about</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../blog.html"> 
<span class="menu-text">blog</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../demos.html"> 
<span class="menu-text">demos</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../publications.html"> 
<span class="menu-text">publications</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction"><span class="header-section-number">1</span> Introduction</a></li>
  <li><a href="#preliminaries-complex-numbers-and-eulers-equation" id="toc-preliminaries-complex-numbers-and-eulers-equation" class="nav-link" data-scroll-target="#preliminaries-complex-numbers-and-eulers-equation"><span class="header-section-number">2</span> Preliminaries: Complex Numbers and Euler’s Equation</a>
  <ul class="collapse">
  <li><a href="#deriving-eulers-equation-from-picard-iterates" id="toc-deriving-eulers-equation-from-picard-iterates" class="nav-link" data-scroll-target="#deriving-eulers-equation-from-picard-iterates"><span class="header-section-number">2.1</span> Deriving Euler’s Equation from Picard Iterates</a></li>
  <li><a href="#properties-of-eulers-equation" id="toc-properties-of-eulers-equation" class="nav-link" data-scroll-target="#properties-of-eulers-equation"><span class="header-section-number">2.2</span> Properties of Euler’s Equation</a></li>
  </ul></li>
  <li><a href="#phasors" id="toc-phasors" class="nav-link" data-scroll-target="#phasors"><span class="header-section-number">3</span> Phasors</a>
  <ul class="collapse">
  <li><a href="#why-phasors-work" id="toc-why-phasors-work" class="nav-link" data-scroll-target="#why-phasors-work"><span class="header-section-number">3.1</span> Why Phasors Work</a></li>
  <li><a href="#time-varying-signals" id="toc-time-varying-signals" class="nav-link" data-scroll-target="#time-varying-signals"><span class="header-section-number">3.2</span> Time Varying Signals</a></li>
  <li><a href="#time-and-space-varying-signals" id="toc-time-and-space-varying-signals" class="nav-link" data-scroll-target="#time-and-space-varying-signals"><span class="header-section-number">3.3</span> Time and Space Varying Signals</a></li>
  <li><a href="#relative-parameters" id="toc-relative-parameters" class="nav-link" data-scroll-target="#relative-parameters"><span class="header-section-number">3.4</span> Relative Parameters</a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion"><span class="header-section-number">4</span> Conclusion</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references"><span class="header-section-number">5</span> References</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="phasors.out.ipynb" download="phasors.out.ipynb"><i class="bi bi-journal-code"></i>Jupyter</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Phasors</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button" data-quarto-source-url="https://www.github.com/aechoi/blog/blob/main/blog/phasors.ipynb">View Source</a></li></ul></div></div>
  <div class="quarto-categories">
    <div class="quarto-category">electrodynamics</div>
    <div class="quarto-category">tutorial</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">August 15, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="introduction"><span class="header-section-number">1</span> Introduction</h2>
<p>Phasors can feel a bit mystical. Many students may simply memorize the rules associated with them and run calculations without developing a more fundamental understanding. It’s not uncommon for this to be the case at both the undergraduate and graduate level.</p>
<p>The goal of this document is to motivate the use of phasors from the ground up, as well as to provide visual representations of complex numbers that make them intuitive to understand. Hopefully by the end, they seem like an obviously good choice for modeling sinusoidal signals.</p>
<p>If you’d like to access a page with just the interactive demos, check out the <a href="../demos/interactive_phasors.html">demo page</a>. If you’d like to skip to what I believe is the most illuminating section, check out <a href="#sec-common-temp-diff-spatial" class="quarto-xref">Section&nbsp;3.3.2</a>. I’d also recommend pausing any animations you are done with as having too many running at once can cause the browser to slow down.</p>
<p>Much of the content of this document is based on the course notes for UW EEP 592 <span class="citation" data-cites="goldstein_input_impedance_2025 goldstein_preliminaries_2025">(<a href="#ref-goldstein_input_impedance_2025" role="doc-biblioref">Goldstein 2025a</a>; and <a href="#ref-goldstein_preliminaries_2025" role="doc-biblioref">Goldstein 2025b</a>)</span>.</p>
</section>
<section id="preliminaries-complex-numbers-and-eulers-equation" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="preliminaries-complex-numbers-and-eulers-equation"><span class="header-section-number">2</span> Preliminaries: Complex Numbers and Euler’s Equation</h2>
<p>Before talking about sinusoids or time domain signals, let’s start by coming to grips with Euler’s equation. Let’s start by asking the question, what does it mean to raise a number to an imaginary power?</p>
<p><span class="math display">\[ e^i = ?\]</span></p>
<p>Exponential notation, <span class="math inline">\(e^a\)</span>, naivly seems to imply <span class="math inline">\(a\)</span> repeated multiplications of <span class="math inline">\(e\)</span>. However, recall that exponents have been extended from natural numbers to whole numbers (<span class="math inline">\(e^0 = 1\)</span>), integers (<span class="math inline">\(e^{-a} = 1/e^a\)</span>), rational numbers (<span class="math inline">\(e^{1/2} = \sqrt{e}\)</span>), and real numbers (<a href="https://xkcd.com/217/"><span class="math inline">\(e^\pi - \pi = 20\)</span></a>). None of these hold on to the concept of repeated multiplication. Instead, they use a different property of exponentiation to derive these relationships (namely, <span class="math inline">\(e^ae^b=e^{a+b} \implies \exp(a)\exp(b) = \exp(a+b)\)</span>).</p>
<p>The properties of exponentials can be generalized further to accept complex inputs. Just like how exponentiation can be generalized from repeated multiplication to a function that relates the product of outputs to the sum of inputs, it can be generalized again such that it is a function that is its own derivative.</p>
<p><span class="math display">\[
e^x = \frac{\text{d}e^x}{\text{d}x}
\]</span></p>
<p>We will first derive Euler’s Equation, then examine some of its properties.</p>
<section id="deriving-eulers-equation-from-picard-iterates" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="deriving-eulers-equation-from-picard-iterates"><span class="header-section-number">2.1</span> Deriving Euler’s Equation from Picard Iterates</h3>
<p>Say we want to define a function, <span class="math inline">\(f(x)\)</span>, that is equal to its own derivative. <span class="math display">\[f(x) = f'(x)\]</span></p>
<p>You may already know what the answer is, but let’s try to rederive it. We’ll start by making a guess. <span class="math display">\[f_0(x) = 1\]</span></p>
<p>This is a pretty bad guess. We know that <span class="math inline">\(f_0'(x) = 0\)</span>, but we need <span class="math inline">\(f_0'(x) = f_0(x) = 1\)</span>.</p>
<p>Watch how we’ll improve this iteratively (for a truly rigorous treatment, see <a href="https://en.wikipedia.org/wiki/Picard–Lindelöf_theorem">Picard Iterates</a>).</p>
<p><span class="math display">\[\begin{align}
f_0(x) &amp;= 1 \\
f'_0(x) &amp;= 0\\
\\
f_1(x) &amp;= 1+x \\
f_1'(x) &amp;= 1\\
\\
f_2(x) &amp;= 1 + x + \frac{1}{2}x^2 \\
f'_2(x) &amp;= 1 + x\\

&amp;\vdots \\

f(x) &amp;= 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \dots = \sum_{k=0}^\infty \frac{x^k}{k!}\\
f'(x) &amp;= 1 + x + \frac{x^2}{2!} + \frac{x^3}{3!} + \dots = \sum_{k=0}^\infty \frac{x^k}{k!}
\end{align}\]</span></p>
<p>We end up with a familiar equation for the Taylor expansion of <span class="math inline">\(e^x\)</span>. Notationally, we can keep the form of <span class="math inline">\(e^x\)</span>, but semantically we should refer to this infinite sum.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Exercise
</div>
</div>
<div class="callout-body-container callout-body">
<p>Verify that this does in fact satisfy the product rule for exponentials (<span class="math inline">\(e^ae^b = e^{a+b}\)</span>). Convince yourself that every other property of exponentials will hold.</p>
</div>
</div>
<p>With this form, we can simply plug in <span class="math inline">\(i\)</span> as an argument to see what the result is. In other words: <span class="math display">\[e^i = 1 +i +\frac{-1}{2} + i\frac{-1}{3!} +\dots\]</span></p>
<p>The above is just some complex number. It doesn’t really simplify well, but we can try extracting some structure by evaluating <span class="math inline">\(e^{i\theta}\)</span> where <span class="math inline">\(\theta \in \mathbb R\)</span>.</p>
<p><span class="math display">\[e^{i\theta} = 1 + i\theta + \frac{-\theta^2}{2} + i\frac{-\theta^3}{3!} + \dots \\
= \left(1 - \frac{\theta^2}{2} + \dots \right) + i\left(\theta - \frac{\theta^3}{3!} + \dots \right)\]</span></p>
<p>If you recall your Taylor Series, you may recognize the right hand side as the series for <span class="math inline">\(\cos{\theta}\)</span> and <span class="math inline">\(\sin{\theta}\)</span>. Resulting in</p>
<p><span class="math display">\[e^{i\theta} = \cos{\theta} + i\sin{\theta}\]</span></p>
<p>Thus, we rederive Euler’s Equation.</p>
<div class="callout-info">
<p>The complex exponential of every other base can be obtained by recalling the property that <span class="math inline">\(a^{i\theta} = (e^{\ln a})^{i\theta} = e^{i\theta\ln a}\)</span></p>
</div>
</section>
<section id="properties-of-eulers-equation" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="properties-of-eulers-equation"><span class="header-section-number">2.2</span> Properties of Euler’s Equation</h3>
<p>Euler’s equation evaluates to some complex number whose real part is <span class="math inline">\(\cos{\theta}\)</span> and whose imaginary part is <span class="math inline">\(\sin{\theta}\)</span>. On the complex plane, this can represent any point on the unit circle. Scaling the entire expression by a constant magnitude <span class="math inline">\(M\)</span> results in scaling that radius by <span class="math inline">\(M\)</span>. Adding a phase shift <span class="math inline">\(\phi\)</span> results in a rotation around the origin by <span class="math inline">\(\phi\)</span> radians.</p>
<p><span class="math display">\[Me^{i(\theta + \phi)} = M\cos{(\theta + \phi)} + iM\sin{(\theta+ \phi)}\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1" data-startfrom="0" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb1-0"><a href="#cb1-0" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {slider} <span class="im">from</span> <span class="st">"@jashkenas/inputs"</span></span>
<span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>viewof angle <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span> </span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angle"</span><span class="op">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"θ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>viewof phase_shift <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>viewof magnitude <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>point <span class="op">=</span> [</span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> magnitude<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle <span class="op">+</span> phase_shift)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle <span class="op">+</span> phase_shift)}<span class="op">,</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>angle_mark_func <span class="op">=</span> angle <span class="kw">=&gt;</span> <span class="fl">0.5</span> <span class="op">+</span> angle <span class="op">/</span> (<span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span> <span class="op">*</span> <span class="dv">10</span>)</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>angle_points <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> <span class="dv">50</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> t <span class="op">=</span> angle <span class="op">*</span> i <span class="op">/</span> <span class="dv">49</span></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="dt">real</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="fu">angle_mark_func</span>(t) <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(t)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="fu">angle_mark_func</span>(t) <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(t)}</span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>phase_mark_func <span class="op">=</span> phase_shift <span class="kw">=&gt;</span> <span class="fu">angle_mark_func</span>(angle) <span class="op">+</span> phase_shift <span class="op">/</span> (<span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span> <span class="op">*</span> <span class="dv">10</span>)</span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a>phase_shift_points <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> <span class="dv">50</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> t <span class="op">=</span> phase_shift <span class="op">*</span> i <span class="op">/</span> <span class="dv">49</span></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="dt">real</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="fu">phase_mark_func</span>(t) <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(t <span class="op">+</span> angle)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="fu">phase_mark_func</span>(t) <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(t <span class="op">+</span> angle)}</span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a>  <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(point<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(point<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb1-69"><a href="#cb1-69" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb1-70"><a href="#cb1-70" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(angle_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb1-71"><a href="#cb1-71" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(phase_shift_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb1-72"><a href="#cb1-72" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-1-10" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Notice, a pure sinusoid can be extracted by taking either the real or imaginary part of the complex exponential. Cosines and sines are just a phase shift away from each other, so the choice is arbitrary. Conventionally, the real part is used. Thus, any sinusoid can be represented as follows.</p>
<p><span class="math display">\[
M\cos{(\theta + \phi)} = \Re\left(M e^{i(\theta + \phi)}\right)
\]</span></p>
<p>One benefit of this representation is that we can now use the product rule for exponentials to simplify sinusoids without needing to apply trigonometric identities.</p>
<p><span class="math display">\[
\begin{align*}
\cos{(\theta_1 + \theta_2)} &amp;= \Re\left(e^{i(\theta_1 + \theta_2)}\right) \\
&amp;= \Re\left(e^{i\theta_1}e^{i\theta_2}\right) \\
&amp;= \Re\left((\cos{\theta_1} + i\sin{\theta_1}\right)\left(\cos{\theta_2} + i\sin{\theta_2})\right) \\
&amp;= \Re\left(\cos{\theta_1}\cos{\theta_2} - \sin{\theta_1}\sin{\theta_2} + i\left(\sin{\theta_1}\cos{\theta_2} + \cos{\theta_1}\sin{\theta_2}\right)\right) \\
&amp;= \cos{\theta_1}\cos{\theta_2} - \sin{\theta_1}\sin{\theta_2}
\end{align*}
\]</span></p>
<p>Another benefit is that it provides a way to visually represent the sum of sinusoids as vector addition. Consider the following example where we add two sinusoids. The green line in the plot below represents the real part of the sum.</p>
<p><span class="math display">\[
\begin{align*}
M_1\cos{(\theta_1)} + M_2\cos{(\theta_2)} &amp;= \Re\left(M_1 e^{i\theta_1} + M_2 e^{i\theta_2}\right) \\
\end{align*}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2" data-startfrom="0" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb2-0"><a href="#cb2-0" aria-hidden="true" tabindex="-1"></a>viewof angle_1 <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span> </span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angle_1"</span><span class="op">,</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"θ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1 <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude_1"</span><span class="op">,</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>viewof angle_2 <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angle_2"</span><span class="op">,</span></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"θ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2 <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude_2"</span><span class="op">,</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>sum_points <span class="op">=</span> [</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle_1)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_1)}<span class="op">,</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle_1) <span class="op">+</span> magnitude_2<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle_2)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_1) <span class="op">+</span> magnitude_2<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_2)}<span class="op">,</span></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a>real_marker <span class="op">=</span> [</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_1) <span class="op">+</span> magnitude_2<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_2)}<span class="op">,</span></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>    {<span class="dt">real</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle_1)<span class="op">+</span>magnitude_2<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle_2)<span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> magnitude_1<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_1) <span class="op">+</span> magnitude_2<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle_2)}<span class="op">,</span></span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb2-54"><a href="#cb2-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb2-55"><a href="#cb2-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb2-56"><a href="#cb2-56" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-57"><a href="#cb2-57" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb2-58"><a href="#cb2-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb2-59"><a href="#cb2-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb2-60"><a href="#cb2-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb2-61"><a href="#cb2-61" aria-hidden="true" tabindex="-1"></a>  <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-62"><a href="#cb2-62" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb2-63"><a href="#cb2-63" aria-hidden="true" tabindex="-1"></a>  <span class="dt">height</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb2-64"><a href="#cb2-64" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb2-65"><a href="#cb2-65" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">dot</span>(sum_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb2-66"><a href="#cb2-66" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(sum_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb2-67"><a href="#cb2-67" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb2-68"><a href="#cb2-68" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb2-69"><a href="#cb2-69" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(real_marker<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb2-70"><a href="#cb2-70" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb2-71"><a href="#cb2-71" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-2-7" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
</section>
<section id="phasors" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="phasors"><span class="header-section-number">3</span> Phasors</h2>
<p>A phasor is a representation of a sinusoidal signal (with some frequency) as a single complex number. Doing this allows you to leverage the nice properties of complex exponentials described above. We’ll start by describing why it works, then going through examples for signals with only a time component and then for signals with both a time and space component.</p>
<section id="why-phasors-work" class="level3" data-number="3.1">
<h3 data-number="3.1" class="anchored" data-anchor-id="why-phasors-work"><span class="header-section-number">3.1</span> Why Phasors Work</h3>
<p>Often times, we have some arbitrary signal (ie. not a sinusoid) that we want to input into some linear system. That is, a system where the outputs and inputs follow the rules of superposition. Explicitly, scaling the input by a constant will scale the output by the same constant. Inputting the sum of two signals will result in an output that is the sum of their individual outputs. Many systems in physics and engineering can be modeled as linear systems (eg. electrical circuits, spring-mass-damper systems).</p>
<p>Fourier analysis tells us that any signal (even those that are not periodic) can be decomposed into a linear combination of sinusoids. So understanding how a system transforms sinusoidal signals is sufficient to understand how it transforms any signal.</p>
<p>Linear systems theory tells us that inputting a sinusoidal signal into a linear system results in an output that has the same frequency, but may have a different amplitude and phase shift. In other words, you only need to track how the magnitude and phase of the sinusoid changes to get a full understanding of the transformation (at that frequency).</p>
<p>So if we have some input signal <span class="math inline">\(x(t) = M \cos{(\omega t + \phi)}\)</span>, we know the output will be of the form <span class="math inline">\(y(t) = M' \cos{(\omega t + \phi')}\)</span>. Representing the input as a complex exponential, we have the following.</p>
<p><span class="math display">\[
\begin{align*}
x(t) &amp;= \Re \left( M e^{i(\omega t+ \phi) }\right) \\
&amp;= \Re \left( M e^{i\omega t} e^{i\phi} \right)
\end{align*}
\]</span></p>
<p>But recall, we don’t need to track the frequency of the sinusoid as we know that will stay the same. So we can simply represent the phasor version of the sinusoid, <span class="math inline">\(\tilde X\)</span>, as a complex number with a magnitude <span class="math inline">\(M\)</span> and phase <span class="math inline">\(\phi\)</span>. <span class="math display">\[
\begin{gather*}
\tilde X = M e^{i\phi} = M \angle \phi \\
x(t) = \Re\left(\tilde X e^{i\omega t}\right)
\end{gather*}
\]</span></p>
<p>The two lines above describe the forward and inverse phasor transforms. Typically, you’ll start in the time domain, transform to the phasor domain where calculations are easier, do some calculations, then transform back to the time domain.</p>
</section>
<section id="time-varying-signals" class="level3" data-number="3.2">
<h3 data-number="3.2" class="anchored" data-anchor-id="time-varying-signals"><span class="header-section-number">3.2</span> Time Varying Signals</h3>
<p>Again, any signal (including aperiodic ones) can be decomposed into a linear combination of sinusoids. We will analyze a simple sinusoidal signal, <span class="math inline">\(s(t) = M \cos{(\omega t + \phi)}\)</span> which has a magnitude <span class="math inline">\(M\)</span>, angular frequency <span class="math inline">\(\omega\)</span>, and constant phase shift <span class="math inline">\(\phi\)</span>. This is representative, for example, of a sinusoidal voltage signal on a low frequency or physically short circuit.</p>
<p>We can view this signal as a phasor evolving in time and as a voltage across space evolving in time. The plot on the left depicts the signal in phase domain while the plot on the right depicts space domain. Notice, the voltage is constant across space (as expected for something obeying Kirchoff’s Voltage Law).</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3" data-startfrom="0" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb3-0"><a href="#cb3-0" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> {Scrubber} <span class="im">from</span> <span class="st">"@mbostock/scrubber"</span></span>
<span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>time_duration_time_single <span class="op">=</span> <span class="dv">2</span><span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span> <span class="op">/</span> omega_time_single</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>fps <span class="op">=</span> <span class="dv">20</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>dt <span class="op">=</span> <span class="dv">1</span><span class="op">/</span>fps</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>viewof t_time_single <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_time_single<span class="op">,</span> time_duration_time_single<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>viewof omega_time_single <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>viewof phase_time_single <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>viewof magnitude_time_single <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>phasor_time_single <span class="op">=</span> [</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> magnitude_time_single<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(omega_time_single<span class="op">*</span>t_time_single <span class="op">+</span> phase_time_single)<span class="op">,</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  <span class="dt">imaginary</span><span class="op">:</span> magnitude_time_single<span class="op">*</span><span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(omega_time_single<span class="op">*</span>t_time_single <span class="op">+</span> phase_time_single)}<span class="op">,</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>phasor_phase_time_single <span class="op">=</span> [</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">real</span><span class="op">:</span> phasor_time_single[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  <span class="dt">imaginary</span><span class="op">:</span> phasor_time_single[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span></span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>phasor_space_time_single <span class="op">=</span> [</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">space</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_time_single[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}<span class="op">,</span></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">space</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_time_single[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}<span class="op">,</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_time_single<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_phase_time_single<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>        phasor_phase_time_single<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({<span class="dt">real</span><span class="op">:</span> d<span class="op">.</span><span class="at">real</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_time_single[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}))<span class="op">,</span></span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>}</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>      )<span class="op">,</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb3-86"><a href="#cb3-86" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb3-87"><a href="#cb3-87" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb3-88"><a href="#cb3-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb3-89"><a href="#cb3-89" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb3-90"><a href="#cb3-90" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb3-91"><a href="#cb3-91" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb3-92"><a href="#cb3-92" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb3-93"><a href="#cb3-93" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb3-94"><a href="#cb3-94" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb3-95"><a href="#cb3-95" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb3-96"><a href="#cb3-96" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb3-97"><a href="#cb3-97" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(</span>
<span id="cb3-98"><a href="#cb3-98" aria-hidden="true" tabindex="-1"></a>        phasor_phase_time_single<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({<span class="dt">space</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> d<span class="op">.</span><span class="at">real</span>}))<span class="op">,</span></span>
<span id="cb3-99"><a href="#cb3-99" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb3-100"><a href="#cb3-100" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_time_single<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> ({<span class="dt">space</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> d<span class="op">.</span><span class="at">real</span>}))<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb3-101"><a href="#cb3-101" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_space_time_single<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb3-102"><a href="#cb3-102" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb3-103"><a href="#cb3-103" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb3-104"><a href="#cb3-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-105"><a href="#cb3-105" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb3-106"><a href="#cb3-106" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb3-107"><a href="#cb3-107" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb3-108"><a href="#cb3-108" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb3-109"><a href="#cb3-109" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb3-110"><a href="#cb3-110" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb3-111"><a href="#cb3-111" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-3-12" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>For the rest of this subsection, we’ll show the time domain instead, as the space domain is rather boring when the function is not space varying. Just know that the voltage is constant across space in these cases where the function is only time varying.</p>
<p>It’s worth noting that the amplitude at any point in time can be found as long as you know what the magnitude and phase of the phasor are at any point in time. By convention, knowing the initial condition (magnitude and phase at <span class="math inline">\(t=0\)</span>) is sufficient to fully describe the phasor.</p>
<p>We can also add two voltage signals together. In phase space, adding two signals has the appearance of vector addition. Let’s first look at the case where we have two signals with the same frequency. That is:</p>
<p><span class="math display">\[
s(t) = M_1 \cos{(\omega t + \phi_1)} + M_2 \cos{(\omega t + \phi_2)}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>time_duration_match_freq <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>time_array_match_freq <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_match_freq<span class="op">,</span> time_duration_match_freq<span class="op">*</span>fps)</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>viewof t_match_freq <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_match_freq<span class="op">,</span> time_duration_match_freq<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>viewof omega_match_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>viewof phase_1_match_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_match_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>viewof phase_2_match_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_match_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">calculatePhasor</span>(angle<span class="op">,</span> pos_angle<span class="op">,</span> magnitude<span class="op">,</span> phase_shift) {</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> {</span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">cos</span>(angle <span class="op">+</span> pos_angle <span class="op">+</span> phase_shift)<span class="op">,</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> magnitude <span class="op">*</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sin</span>(angle <span class="op">+</span> pos_angle <span class="op">+</span> phase_shift)</span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>points_time_match_freq <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> time_array_match_freq<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a>      <span class="dt">time</span><span class="op">:</span> time_array_match_freq[i]<span class="op">,</span></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_match_freq <span class="op">*</span> time_array_match_freq[i]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_1_match_freq<span class="op">,</span> phase_1_match_freq)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>                <span class="fu">calculatePhasor</span>(omega_match_freq <span class="op">*</span> time_array_match_freq[i]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_2_match_freq<span class="op">,</span> phase_2_match_freq)<span class="op">.</span><span class="at">real</span></span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a>point_1_match_freq <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_match_freq<span class="op">*</span>t_match_freq<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_1_match_freq<span class="op">,</span> phase_1_match_freq)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a>point_2_match_freq <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_match_freq<span class="op">*</span>t_match_freq<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_2_match_freq<span class="op">,</span> phase_2_match_freq)</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a>point_sum_match_freq <span class="op">=</span> [{</span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a>  <span class="dt">real</span><span class="op">:</span> point_1_match_freq<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_match_freq<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb4-83"><a href="#cb4-83" aria-hidden="true" tabindex="-1"></a>  <span class="dt">imaginary</span><span class="op">:</span> point_1_match_freq<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_match_freq<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb4-84"><a href="#cb4-84" aria-hidden="true" tabindex="-1"></a>}]</span>
<span id="cb4-85"><a href="#cb4-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-86"><a href="#cb4-86" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-87"><a href="#cb4-87" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-88"><a href="#cb4-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb4-89"><a href="#cb4-89" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb4-90"><a href="#cb4-90" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb4-91"><a href="#cb4-91" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-92"><a href="#cb4-92" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb4-93"><a href="#cb4-93" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb4-94"><a href="#cb4-94" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb4-95"><a href="#cb4-95" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-96"><a href="#cb4-96" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-97"><a href="#cb4-97" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb4-98"><a href="#cb4-98" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-99"><a href="#cb4-99" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb4-100"><a href="#cb4-100" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb4-101"><a href="#cb4-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-102"><a href="#cb4-102" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_match_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb4-103"><a href="#cb4-103" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_match_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb4-104"><a href="#cb4-104" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_match_freq<span class="op">,</span> point_sum_match_freq[<span class="dv">0</span>]<span class="op">,</span> point_2_match_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb4-105"><a href="#cb4-105" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> point_sum_match_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> point_sum_match_freq[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb4-106"><a href="#cb4-106" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(point_sum_match_freq<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb4-107"><a href="#cb4-107" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb4-108"><a href="#cb4-108" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb4-109"><a href="#cb4-109" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-110"><a href="#cb4-110" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> time_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb4-111"><a href="#cb4-111" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb4-112"><a href="#cb4-112" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Time"</span><span class="op">,</span></span>
<span id="cb4-113"><a href="#cb4-113" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> time_duration_match_freq]<span class="op">,</span></span>
<span id="cb4-114"><a href="#cb4-114" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-115"><a href="#cb4-115" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb4-116"><a href="#cb4-116" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb4-117"><a href="#cb4-117" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb4-118"><a href="#cb4-118" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-119"><a href="#cb4-119" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb4-120"><a href="#cb4-120" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb4-121"><a href="#cb4-121" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb4-122"><a href="#cb4-122" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb4-123"><a href="#cb4-123" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb4-124"><a href="#cb4-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-125"><a href="#cb4-125" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">time</span><span class="op">:</span> t_match_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">time</span><span class="op">:</span> t_match_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> point_sum_match_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb4-126"><a href="#cb4-126" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_time_match_freq<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb4-127"><a href="#cb4-127" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">time</span><span class="op">:</span> t_match_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> point_sum_match_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb4-128"><a href="#cb4-128" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb4-129"><a href="#cb4-129" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb4-130"><a href="#cb4-130" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-131"><a href="#cb4-131" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb4-132"><a href="#cb4-132" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb4-133"><a href="#cb4-133" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb4-134"><a href="#cb4-134" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Time Domain</span></span>
<span id="cb4-135"><a href="#cb4-135" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>time_plot<span class="sc">}</span></span>
<span id="cb4-136"><a href="#cb4-136" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb4-137"><a href="#cb4-137" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-4-14" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Notice, the two phasors being summed (green and yellow) are locked in phase, keeping a constant parallelogram shape that rotates around the origin together. Viewed this way, it becomes clear that the sum of two sinusoids with the same frequency will always be another sinusoid.</p>
<p>Now let’s see what happens when we add two signals with different frequencies. It’s important to note that when mathematically manipulating phasors, we assume they always have the same frequency. However, we can still visualize the sum of these two signals in the phasor domain. If you’re familiar with the <a href="https://en.wikipedia.org/wiki/Beat_(acoustics)">beat frequency</a> phenomenon, you may recognize this as the same effect.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>time_duration_diff_freq <span class="op">=</span> <span class="dv">30</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>time_array_diff_freq <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_diff_freq<span class="op">,</span> time_duration_diff_freq<span class="op">*</span>fps)</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>viewof t_diff_freq <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_diff_freq<span class="op">,</span> time_duration_diff_freq<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>viewof omega_1_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a>viewof phase_1_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">.</span><span class="dv">5</span><span class="op">,</span></span>
<span id="cb5-27"><a href="#cb5-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb5-28"><a href="#cb5-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>viewof omega_2_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>viewof phase_2_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_diff_freq <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb5-62"><a href="#cb5-62" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb5-63"><a href="#cb5-63" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a>points_time_diff_freq <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> time_array_diff_freq<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>      <span class="dt">time</span><span class="op">:</span> time_array_diff_freq[i]<span class="op">,</span></span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_1_diff_freq <span class="op">*</span> time_array_diff_freq[i]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_1_diff_freq<span class="op">,</span> phase_1_diff_freq)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>                <span class="fu">calculatePhasor</span>(omega_2_diff_freq <span class="op">*</span> time_array_diff_freq[i]<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_2_diff_freq<span class="op">,</span> phase_2_diff_freq)<span class="op">.</span><span class="at">real</span></span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>point_1_diff_freq <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_1_diff_freq<span class="op">*</span>t_diff_freq<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_1_diff_freq<span class="op">,</span> phase_1_diff_freq)</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a>point_2_diff_freq <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_2_diff_freq<span class="op">*</span>t_diff_freq<span class="op">,</span> <span class="dv">0</span><span class="op">,</span> magnitude_2_diff_freq<span class="op">,</span> phase_2_diff_freq)</span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a>point_sum_diff_freq <span class="op">=</span> [{</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a>  <span class="dt">real</span><span class="op">:</span> point_1_diff_freq<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_diff_freq<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a>  <span class="dt">imaginary</span><span class="op">:</span> point_1_diff_freq<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_diff_freq<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a>}]</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb5-91"><a href="#cb5-91" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb5-92"><a href="#cb5-92" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_diff_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_diff_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_diff_freq<span class="op">,</span> point_sum_diff_freq[<span class="dv">0</span>]<span class="op">,</span> point_2_diff_freq]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> point_sum_diff_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> point_sum_diff_freq[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(point_sum_diff_freq<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> time_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Time"</span><span class="op">,</span></span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> time_duration_diff_freq]<span class="op">,</span></span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">time</span><span class="op">:</span> t_diff_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">time</span><span class="op">:</span> t_diff_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> point_sum_diff_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_time_diff_freq<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">time</span><span class="op">:</span> t_diff_freq<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> point_sum_diff_freq[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"time"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Time Domain</span></span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>time_plot<span class="sc">}</span></span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-5-14" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>When the phasor vectors are aligned, they sum. When they are anti-aligned, they cancel out. It’s also fun to mess around with the relative magnitudes and phases of the two signals to see how they interact. Importantly, we see that differing frequencies results in a parallelogram that warps over time, it becomes clear that we should not have a clean sinusoid anymore.</p>
</section>
<section id="time-and-space-varying-signals" class="level3" data-number="3.3">
<h3 data-number="3.3" class="anchored" data-anchor-id="time-and-space-varying-signals"><span class="header-section-number">3.3</span> Time and Space Varying Signals</h3>
<p>Waves, in classical physics, are some disturbance that propagates through space and time. To represent this mathematically, the standard linear wave need only be a function of a linear combination of space and time. For instance, the function <span class="math inline">\(f(x, t) = (\omega t - kx)^2\)</span> depicts a quadratic function propagating forwards as a wave.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6" data-startfrom="0" data-source-offset="-0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line -1;"><span id="cb6-0"><a href="#cb6-0" aria-hidden="true" tabindex="-1"></a>viewof time_quad <span class="op">=</span> <span class="fu">Scrubber</span>(<span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>({<span class="dt">length</span><span class="op">:</span> <span class="dv">101</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> i <span class="op">/</span> <span class="dv">10</span>)<span class="op">,</span></span>
<span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>    <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="dt">loop</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>    <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"t = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [sec]"</span><span class="op">,</span></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>quad_func <span class="op">=</span> x <span class="kw">=&gt;</span> (time_quad <span class="op">-</span> x)<span class="op">**</span><span class="dv">2</span></span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>quad_points <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> <span class="dv">50</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> x <span class="op">=</span> i <span class="op">/</span> <span class="dv">49</span> <span class="op">*</span> <span class="dv">10</span></span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {<span class="dt">y</span><span class="op">:</span> <span class="fu">quad_func</span>(x)<span class="op">,</span> <span class="dt">x</span><span class="op">:</span> x}</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>  <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>  <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb6-23"><a href="#cb6-23" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb6-24"><a href="#cb6-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">1</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb6-25"><a href="#cb6-25" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb6-26"><a href="#cb6-26" aria-hidden="true" tabindex="-1"></a>  <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb6-27"><a href="#cb6-27" aria-hidden="true" tabindex="-1"></a>  <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb6-28"><a href="#cb6-28" aria-hidden="true" tabindex="-1"></a>  <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb6-29"><a href="#cb6-29" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">line</span>(quad_points<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"y"</span>})<span class="op">,</span></span>
<span id="cb6-30"><a href="#cb6-30" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb6-31"><a href="#cb6-31" aria-hidden="true" tabindex="-1"></a>    Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb6-32"><a href="#cb6-32" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">,</span></span>
<span id="cb6-33"><a href="#cb6-33" aria-hidden="true" tabindex="-1"></a>})</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-6-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Understanding why is a topic for another time (including why the spatial term is negative). For now, recall that any signal can be decomposed into a linear combination of sinusoids, so understanding how a sinusoidal wave propagates is sufficient to understand how any general wave propagates.</p>
<p>To make a sinusoid a wave, we simply make its argument a linear combination of space and time. Consider the following expression.</p>
<p><span class="math display">\[
\begin{gather*}
s(t, x) = M \cos{(\omega t - kx + \phi)} = \Re\left(M e^{i(\omega t - kx + \phi)}\right) \\
\tilde S = M e^{i\phi}
\end{gather*}
\]</span></p>
<p>We keep the convention of ignoring the variable parameters in the phasor representation. Like in the time varying case, knowing the initial conditions (magnitude and phase at <span class="math inline">\(t=0\)</span>) is sufficient to fully describe the signal at any point in time or space. For this subsection, we’ll bring back the space domain plot as well, as the function is now space varying.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>time_duration_spacetime <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>space_dist_spacetime <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>space_array_spacetime <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_spacetime<span class="op">,</span> space_dist_spacetime<span class="op">*</span>fps)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>viewof t_spacetime <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_spacetime<span class="op">,</span> time_duration_spacetime<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>viewof x_spacetime <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb7-14"><a href="#cb7-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-15"><a href="#cb7-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_spacetime<span class="op">,</span></span>
<span id="cb7-16"><a href="#cb7-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-17"><a href="#cb7-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-18"><a href="#cb7-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb7-19"><a href="#cb7-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb7-20"><a href="#cb7-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-21"><a href="#cb7-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-22"><a href="#cb7-22" aria-hidden="true" tabindex="-1"></a>viewof omega_spacetime <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb7-23"><a href="#cb7-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb7-24"><a href="#cb7-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-25"><a href="#cb7-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb7-26"><a href="#cb7-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-27"><a href="#cb7-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-28"><a href="#cb7-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb7-29"><a href="#cb7-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb7-30"><a href="#cb7-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-31"><a href="#cb7-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-32"><a href="#cb7-32" aria-hidden="true" tabindex="-1"></a>viewof k_spacetime <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb7-33"><a href="#cb7-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb7-34"><a href="#cb7-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span></span>
<span id="cb7-35"><a href="#cb7-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb7-36"><a href="#cb7-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-37"><a href="#cb7-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-38"><a href="#cb7-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb7-39"><a href="#cb7-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb7-40"><a href="#cb7-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-41"><a href="#cb7-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-42"><a href="#cb7-42" aria-hidden="true" tabindex="-1"></a>viewof phase_spacetime <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb7-43"><a href="#cb7-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb7-44"><a href="#cb7-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb7-45"><a href="#cb7-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb7-46"><a href="#cb7-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-47"><a href="#cb7-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-48"><a href="#cb7-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb7-49"><a href="#cb7-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb7-50"><a href="#cb7-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-51"><a href="#cb7-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-52"><a href="#cb7-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_spacetime <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb7-53"><a href="#cb7-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb7-54"><a href="#cb7-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb7-55"><a href="#cb7-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb7-56"><a href="#cb7-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb7-57"><a href="#cb7-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-58"><a href="#cb7-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb7-59"><a href="#cb7-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb7-60"><a href="#cb7-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb7-61"><a href="#cb7-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-62"><a href="#cb7-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-63"><a href="#cb7-63" aria-hidden="true" tabindex="-1"></a>points_space_spacetime <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb7-64"><a href="#cb7-64" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_spacetime<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb7-65"><a href="#cb7-65" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb7-66"><a href="#cb7-66" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_spacetime[i]<span class="op">,</span></span>
<span id="cb7-67"><a href="#cb7-67" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_spacetime <span class="op">*</span> t_spacetime<span class="op">,</span> k_spacetime <span class="op">*</span> space_array_spacetime[i]<span class="op">,</span> magnitude_spacetime<span class="op">,</span> phase_spacetime)<span class="op">.</span><span class="at">real</span></span>
<span id="cb7-68"><a href="#cb7-68" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb7-69"><a href="#cb7-69" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb7-70"><a href="#cb7-70" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb7-71"><a href="#cb7-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-72"><a href="#cb7-72" aria-hidden="true" tabindex="-1"></a>phasor_spacetime <span class="op">=</span> [<span class="fu">calculatePhasor</span>(omega_spacetime <span class="op">*</span> t_spacetime<span class="op">,</span> k_spacetime <span class="op">*</span> x_spacetime<span class="op">,</span> magnitude_spacetime<span class="op">,</span> phase_spacetime)]</span>
<span id="cb7-73"><a href="#cb7-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-74"><a href="#cb7-74" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb7-75"><a href="#cb7-75" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb7-76"><a href="#cb7-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb7-77"><a href="#cb7-77" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb7-78"><a href="#cb7-78" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb7-79"><a href="#cb7-79" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb7-80"><a href="#cb7-80" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb7-81"><a href="#cb7-81" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb7-82"><a href="#cb7-82" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb7-83"><a href="#cb7-83" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb7-84"><a href="#cb7-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-85"><a href="#cb7-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb7-86"><a href="#cb7-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb7-87"><a href="#cb7-87" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb7-88"><a href="#cb7-88" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb7-89"><a href="#cb7-89" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-90"><a href="#cb7-90" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> phasor_spacetime[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb7-91"><a href="#cb7-91" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_spacetime[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_spacetime[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb7-92"><a href="#cb7-92" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_spacetime<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb7-93"><a href="#cb7-93" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb7-94"><a href="#cb7-94" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb7-95"><a href="#cb7-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-96"><a href="#cb7-96" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb7-97"><a href="#cb7-97" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb7-98"><a href="#cb7-98" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb7-99"><a href="#cb7-99" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb7-100"><a href="#cb7-100" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb7-101"><a href="#cb7-101" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb7-102"><a href="#cb7-102" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb7-103"><a href="#cb7-103" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">2</span><span class="op">,</span> <span class="dv">2</span>]<span class="op">,</span></span>
<span id="cb7-104"><a href="#cb7-104" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb7-105"><a href="#cb7-105" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb7-106"><a href="#cb7-106" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb7-107"><a href="#cb7-107" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb7-108"><a href="#cb7-108" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb7-109"><a href="#cb7-109" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb7-110"><a href="#cb7-110" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-111"><a href="#cb7-111" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_spacetime<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_spacetime<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_spacetime[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb7-112"><a href="#cb7-112" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb7-113"><a href="#cb7-113" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_spacetime<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb7-114"><a href="#cb7-114" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_spacetime<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_spacetime[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb7-115"><a href="#cb7-115" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb7-116"><a href="#cb7-116" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb7-117"><a href="#cb7-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb7-118"><a href="#cb7-118" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb7-119"><a href="#cb7-119" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb7-120"><a href="#cb7-120" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb7-121"><a href="#cb7-121" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb7-122"><a href="#cb7-122" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb7-123"><a href="#cb7-123" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb7-124"><a href="#cb7-124" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-7-12" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>A couple things to note.</p>
<ul>
<li>Adjusting your position looks like a phase shift in the phase domain (just like time).</li>
<li>Adjusting <span class="math inline">\(k\)</span> does not change the speed of rotation, just the distance between the peaks of the wave.</li>
<li><span class="math inline">\(\omega\)</span> and <span class="math inline">\(k\)</span> may appear to cause a phase shift in the phase domain, but this is only when <span class="math inline">\(t\)</span> and <span class="math inline">\(x\)</span> are nonzero.</li>
</ul>
<p>Let’s now look at the case where we sum two waves. There are four cases to considered.</p>
<ol type="1">
<li>Same temporal frequency, same spatial frequency</li>
<li>Same temporal frequency, different spatial frequency</li>
<li>Different temporal frequency, same spatial frequency</li>
<li>Different temporal frequency, different spatial frequency</li>
</ol>
<section id="case-1-same-temporal-frequency-same-spatial-frequency" class="level4" data-number="3.3.1">
<h4 data-number="3.3.1" class="anchored" data-anchor-id="case-1-same-temporal-frequency-same-spatial-frequency"><span class="header-section-number">3.3.1</span> Case 1: Same Temporal Frequency, Same Spatial Frequency</h4>
<p>This case will closely resemble the time varying case when adding two sinusoids of the same frequency. The phasors remain locked in phase, resulting in a constant parallelogram shape that rotates around the origin together. The result is another sinusoid with the same frequency.</p>
<p>This is also relatively straightforward to derive mathematically.</p>
<p><span class="math display">\[
\begin{align*}
s(t, x) &amp;= M_1 \cos{(\omega t - k x + \phi_1)} + M_2 \cos{(\omega t - k x + \phi_2)} \\
&amp;= \Re\left(M_1 e^{i(\omega t - k x + \phi_1)} + M_2 e^{i(\omega t - k x + \phi_2)}\right) \\
&amp;= \Re\left((M_1 e^{i\phi_1} + M_2 e^{i\phi_2}) e^{i(\omega t - k x)}\right) \\
&amp;= \Re\left(\tilde S e^{i(\omega t - k x)}\right) \\
\end{align*}
\]</span></p>
<p>Here, <span class="math inline">\(\tilde S\)</span> is just some constant complex number. So the result is a sinusoid that is scaled and phase shifted as described by the phasor <span class="math inline">\(\tilde S\)</span>.</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>time_duration_sameo_samek <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>space_dist_sameo_samek <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>space_array_sameo_samek <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_sameo_samek<span class="op">,</span> space_dist_sameo_samek<span class="op">*</span>fps)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>viewof t_sameo_samek <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_sameo_samek<span class="op">,</span> time_duration_sameo_samek<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>viewof x_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_sameo_samek<span class="op">,</span></span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-18"><a href="#cb8-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb8-19"><a href="#cb8-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb8-20"><a href="#cb8-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-21"><a href="#cb8-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-22"><a href="#cb8-22" aria-hidden="true" tabindex="-1"></a>viewof omega_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-23"><a href="#cb8-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-24"><a href="#cb8-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-25"><a href="#cb8-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-26"><a href="#cb8-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-27"><a href="#cb8-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-28"><a href="#cb8-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb8-29"><a href="#cb8-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb8-30"><a href="#cb8-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-31"><a href="#cb8-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-32"><a href="#cb8-32" aria-hidden="true" tabindex="-1"></a>viewof k_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-33"><a href="#cb8-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-34"><a href="#cb8-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span></span>
<span id="cb8-35"><a href="#cb8-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-36"><a href="#cb8-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-37"><a href="#cb8-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-38"><a href="#cb8-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb8-39"><a href="#cb8-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb8-40"><a href="#cb8-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-41"><a href="#cb8-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-42"><a href="#cb8-42" aria-hidden="true" tabindex="-1"></a>viewof phase_1_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-43"><a href="#cb8-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-44"><a href="#cb8-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-45"><a href="#cb8-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-46"><a href="#cb8-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-47"><a href="#cb8-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb8-48"><a href="#cb8-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb8-49"><a href="#cb8-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb8-50"><a href="#cb8-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-51"><a href="#cb8-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-52"><a href="#cb8-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-53"><a href="#cb8-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-54"><a href="#cb8-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-55"><a href="#cb8-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb8-56"><a href="#cb8-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-57"><a href="#cb8-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb8-58"><a href="#cb8-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb8-59"><a href="#cb8-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb8-60"><a href="#cb8-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-61"><a href="#cb8-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-62"><a href="#cb8-62" aria-hidden="true" tabindex="-1"></a>viewof phase_2_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-63"><a href="#cb8-63" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-64"><a href="#cb8-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-65"><a href="#cb8-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb8-66"><a href="#cb8-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-67"><a href="#cb8-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb8-68"><a href="#cb8-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb8-69"><a href="#cb8-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb8-70"><a href="#cb8-70" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-71"><a href="#cb8-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-72"><a href="#cb8-72" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_sameo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb8-73"><a href="#cb8-73" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-74"><a href="#cb8-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb8-75"><a href="#cb8-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb8-76"><a href="#cb8-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb8-77"><a href="#cb8-77" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb8-78"><a href="#cb8-78" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb8-79"><a href="#cb8-79" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb8-80"><a href="#cb8-80" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb8-81"><a href="#cb8-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-82"><a href="#cb8-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-83"><a href="#cb8-83" aria-hidden="true" tabindex="-1"></a>points_space_sameo_samek <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb8-84"><a href="#cb8-84" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_sameo_samek<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb8-85"><a href="#cb8-85" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb8-86"><a href="#cb8-86" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_sameo_samek[i]<span class="op">,</span></span>
<span id="cb8-87"><a href="#cb8-87" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_sameo_samek <span class="op">*</span> t_sameo_samek<span class="op">,</span> k_sameo_samek <span class="op">*</span> space_array_sameo_samek[i]<span class="op">,</span> magnitude_1_sameo_samek<span class="op">,</span> phase_1_sameo_samek)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb8-88"><a href="#cb8-88" aria-hidden="true" tabindex="-1"></a>        <span class="fu">calculatePhasor</span>(omega_sameo_samek <span class="op">*</span> t_sameo_samek<span class="op">,</span> k_sameo_samek <span class="op">*</span> space_array_sameo_samek[i]<span class="op">,</span> magnitude_2_sameo_samek<span class="op">,</span> phase_2_sameo_samek)<span class="op">.</span><span class="at">real</span></span>
<span id="cb8-89"><a href="#cb8-89" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb8-90"><a href="#cb8-90" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-91"><a href="#cb8-91" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb8-92"><a href="#cb8-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-93"><a href="#cb8-93" aria-hidden="true" tabindex="-1"></a>point_1_sameo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_samek<span class="op">*</span>t_sameo_samek<span class="op">,</span> k_sameo_samek <span class="op">*</span> x_sameo_samek<span class="op">,</span> magnitude_1_sameo_samek<span class="op">,</span> phase_1_sameo_samek)</span>
<span id="cb8-94"><a href="#cb8-94" aria-hidden="true" tabindex="-1"></a>point_2_sameo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_samek<span class="op">*</span>t_sameo_samek<span class="op">,</span> k_sameo_samek <span class="op">*</span> x_sameo_samek<span class="op">,</span> magnitude_2_sameo_samek<span class="op">,</span> phase_2_sameo_samek)</span>
<span id="cb8-95"><a href="#cb8-95" aria-hidden="true" tabindex="-1"></a>phasor_sameo_samek <span class="op">=</span> [</span>
<span id="cb8-96"><a href="#cb8-96" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb8-97"><a href="#cb8-97" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> point_1_sameo_samek<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_sameo_samek<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb8-98"><a href="#cb8-98" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> point_1_sameo_samek<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_sameo_samek<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb8-99"><a href="#cb8-99" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb8-100"><a href="#cb8-100" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb8-101"><a href="#cb8-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-102"><a href="#cb8-102" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb8-103"><a href="#cb8-103" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-104"><a href="#cb8-104" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb8-105"><a href="#cb8-105" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb8-106"><a href="#cb8-106" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb8-107"><a href="#cb8-107" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-108"><a href="#cb8-108" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb8-109"><a href="#cb8-109" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb8-110"><a href="#cb8-110" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb8-111"><a href="#cb8-111" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-112"><a href="#cb8-112" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-113"><a href="#cb8-113" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb8-114"><a href="#cb8-114" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-115"><a href="#cb8-115" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb8-116"><a href="#cb8-116" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb8-117"><a href="#cb8-117" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-118"><a href="#cb8-118" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_sameo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb8-119"><a href="#cb8-119" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_sameo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb8-120"><a href="#cb8-120" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_sameo_samek<span class="op">,</span> phasor_sameo_samek[<span class="dv">0</span>]<span class="op">,</span> point_2_sameo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb8-121"><a href="#cb8-121" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_sameo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_sameo_samek[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb8-122"><a href="#cb8-122" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_sameo_samek<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb8-123"><a href="#cb8-123" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb8-124"><a href="#cb8-124" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-125"><a href="#cb8-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-126"><a href="#cb8-126" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb8-127"><a href="#cb8-127" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb8-128"><a href="#cb8-128" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb8-129"><a href="#cb8-129" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb8-130"><a href="#cb8-130" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-131"><a href="#cb8-131" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb8-132"><a href="#cb8-132" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb8-133"><a href="#cb8-133" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb8-134"><a href="#cb8-134" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb8-135"><a href="#cb8-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb8-136"><a href="#cb8-136" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb8-137"><a href="#cb8-137" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb8-138"><a href="#cb8-138" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb8-139"><a href="#cb8-139" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb8-140"><a href="#cb8-140" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-141"><a href="#cb8-141" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_sameo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_sameo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_sameo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb8-142"><a href="#cb8-142" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb8-143"><a href="#cb8-143" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_sameo_samek<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb8-144"><a href="#cb8-144" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_sameo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_sameo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb8-145"><a href="#cb8-145" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb8-146"><a href="#cb8-146" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb8-147"><a href="#cb8-147" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-148"><a href="#cb8-148" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb8-149"><a href="#cb8-149" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb8-150"><a href="#cb8-150" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb8-151"><a href="#cb8-151" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb8-152"><a href="#cb8-152" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb8-153"><a href="#cb8-153" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb8-154"><a href="#cb8-154" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-8-16" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
<section id="sec-common-temp-diff-spatial" class="level4" data-number="3.3.2">
<h4 data-number="3.3.2" class="anchored" data-anchor-id="sec-common-temp-diff-spatial"><span class="header-section-number">3.3.2</span> Case 2: Same Temporal Frequency, Different Spatial Frequency</h4>
<p>This case is fairly visually interesting. Notice, when the animation is played, the parallelogram defining the sum in phase space does not warp. It simply rotates around the origin. However, the space domain does not depict a simple sinusoid.</p>
<p>At any given point in space, the signal will oscillate as a sinusoid with a particular frequency. However, the phase and magnitude of that sinusoid will vary at different points in space. Scrubbing through space while time is paused reveals a pattern in the phase space traced by the warping parallelogram. This is traced by the purple line and will be explained further below.</p>
<p><span class="math display">\[
\begin{align*}
s(t, x) &amp;= M_1 \cos{(\omega t - k_1 x + \phi_1)} + M_2 \cos{(\omega t - k_2 x + \phi_2)} \\
&amp;= \Re\left(M_1 e^{i(\omega t - k_1 x + \phi_1)} + M_2 e^{i(\omega t - k_2 x + \phi_2)}\right) \\
\end{align*}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>time_duration_sameo_diffk <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>space_dist_sameo_diffk <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>space_array_sameo_diffk <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_sameo_diffk<span class="op">,</span> space_dist_sameo_diffk<span class="op">*</span>fps)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>viewof t_sameo_diffk <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_sameo_diffk<span class="op">,</span> time_duration_sameo_diffk<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>viewof x_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_sameo_diffk<span class="op">,</span></span>
<span id="cb9-16"><a href="#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-17"><a href="#cb9-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb9-18"><a href="#cb9-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb9-19"><a href="#cb9-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb9-20"><a href="#cb9-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-21"><a href="#cb9-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-22"><a href="#cb9-22" aria-hidden="true" tabindex="-1"></a>viewof omega_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-23"><a href="#cb9-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-24"><a href="#cb9-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-25"><a href="#cb9-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb9-26"><a href="#cb9-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-27"><a href="#cb9-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-28"><a href="#cb9-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb9-29"><a href="#cb9-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb9-30"><a href="#cb9-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-31"><a href="#cb9-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-32"><a href="#cb9-32" aria-hidden="true" tabindex="-1"></a>viewof k_1_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-33"><a href="#cb9-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-34"><a href="#cb9-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb9-35"><a href="#cb9-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb9-36"><a href="#cb9-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-37"><a href="#cb9-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb9-38"><a href="#cb9-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb9-39"><a href="#cb9-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb9-40"><a href="#cb9-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-41"><a href="#cb9-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-42"><a href="#cb9-42" aria-hidden="true" tabindex="-1"></a>viewof phase_1_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-43"><a href="#cb9-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-44"><a href="#cb9-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb9-45"><a href="#cb9-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb9-46"><a href="#cb9-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-47"><a href="#cb9-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb9-48"><a href="#cb9-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb9-49"><a href="#cb9-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb9-50"><a href="#cb9-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-51"><a href="#cb9-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-52"><a href="#cb9-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-53"><a href="#cb9-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-54"><a href="#cb9-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb9-55"><a href="#cb9-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb9-56"><a href="#cb9-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-57"><a href="#cb9-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb9-58"><a href="#cb9-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb9-59"><a href="#cb9-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb9-60"><a href="#cb9-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-61"><a href="#cb9-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-62"><a href="#cb9-62" aria-hidden="true" tabindex="-1"></a>viewof k_2_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-63"><a href="#cb9-63" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-64"><a href="#cb9-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb9-65"><a href="#cb9-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb9-66"><a href="#cb9-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-67"><a href="#cb9-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb9-68"><a href="#cb9-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb9-69"><a href="#cb9-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb9-70"><a href="#cb9-70" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-71"><a href="#cb9-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-72"><a href="#cb9-72" aria-hidden="true" tabindex="-1"></a>viewof phase_2_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-73"><a href="#cb9-73" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-74"><a href="#cb9-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb9-75"><a href="#cb9-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb9-76"><a href="#cb9-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-77"><a href="#cb9-77" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb9-78"><a href="#cb9-78" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb9-79"><a href="#cb9-79" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb9-80"><a href="#cb9-80" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-81"><a href="#cb9-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-82"><a href="#cb9-82" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_sameo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb9-83"><a href="#cb9-83" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-84"><a href="#cb9-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb9-85"><a href="#cb9-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb9-86"><a href="#cb9-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb9-87"><a href="#cb9-87" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb9-88"><a href="#cb9-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb9-89"><a href="#cb9-89" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb9-90"><a href="#cb9-90" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb9-91"><a href="#cb9-91" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-92"><a href="#cb9-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-93"><a href="#cb9-93" aria-hidden="true" tabindex="-1"></a>points_space_sameo_diffk <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb9-94"><a href="#cb9-94" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_sameo_diffk<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb9-95"><a href="#cb9-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb9-96"><a href="#cb9-96" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_sameo_diffk[i]<span class="op">,</span></span>
<span id="cb9-97"><a href="#cb9-97" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_sameo_diffk <span class="op">*</span> t_sameo_diffk<span class="op">,</span> k_1_sameo_diffk <span class="op">*</span> space_array_sameo_diffk[i]<span class="op">,</span> magnitude_1_sameo_diffk<span class="op">,</span> phase_1_sameo_diffk)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb9-98"><a href="#cb9-98" aria-hidden="true" tabindex="-1"></a>        <span class="fu">calculatePhasor</span>(omega_sameo_diffk <span class="op">*</span> t_sameo_diffk<span class="op">,</span> k_2_sameo_diffk <span class="op">*</span> space_array_sameo_diffk[i]<span class="op">,</span> magnitude_2_sameo_diffk<span class="op">,</span> phase_2_sameo_diffk)<span class="op">.</span><span class="at">real</span></span>
<span id="cb9-99"><a href="#cb9-99" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-100"><a href="#cb9-100" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-101"><a href="#cb9-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-102"><a href="#cb9-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-103"><a href="#cb9-103" aria-hidden="true" tabindex="-1"></a>point_1_sameo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_diffk<span class="op">*</span>t_sameo_diffk<span class="op">,</span> k_1_sameo_diffk <span class="op">*</span> x_sameo_diffk<span class="op">,</span> magnitude_1_sameo_diffk<span class="op">,</span> phase_1_sameo_diffk)</span>
<span id="cb9-104"><a href="#cb9-104" aria-hidden="true" tabindex="-1"></a>point_2_sameo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_diffk<span class="op">*</span>t_sameo_diffk<span class="op">,</span> k_2_sameo_diffk <span class="op">*</span> x_sameo_diffk<span class="op">,</span> magnitude_2_sameo_diffk<span class="op">,</span> phase_2_sameo_diffk)</span>
<span id="cb9-105"><a href="#cb9-105" aria-hidden="true" tabindex="-1"></a>phasor_sameo_diffk <span class="op">=</span> [</span>
<span id="cb9-106"><a href="#cb9-106" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb9-107"><a href="#cb9-107" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> point_1_sameo_diffk<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_sameo_diffk<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb9-108"><a href="#cb9-108" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> point_1_sameo_diffk<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_sameo_diffk<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb9-109"><a href="#cb9-109" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-110"><a href="#cb9-110" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb9-111"><a href="#cb9-111" aria-hidden="true" tabindex="-1"></a>phasor_locus_sameo_diffk <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb9-112"><a href="#cb9-112" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_sameo_diffk<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb9-113"><a href="#cb9-113" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_1_sameo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_diffk <span class="op">*</span> t_sameo_diffk<span class="op">,</span> k_1_sameo_diffk <span class="op">*</span> space_array_sameo_diffk[i]<span class="op">,</span> magnitude_1_sameo_diffk<span class="op">,</span> phase_1_sameo_diffk)</span>
<span id="cb9-114"><a href="#cb9-114" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_2_sameo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_sameo_diffk <span class="op">*</span> t_sameo_diffk<span class="op">,</span> k_2_sameo_diffk <span class="op">*</span> space_array_sameo_diffk[i]<span class="op">,</span> magnitude_2_sameo_diffk<span class="op">,</span> phase_2_sameo_diffk)</span>
<span id="cb9-115"><a href="#cb9-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-116"><a href="#cb9-116" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb9-117"><a href="#cb9-117" aria-hidden="true" tabindex="-1"></a>      <span class="dt">real</span><span class="op">:</span> phasor_1_sameo_diffk<span class="op">.</span><span class="at">real</span> <span class="op">+</span> phasor_2_sameo_diffk<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb9-118"><a href="#cb9-118" aria-hidden="true" tabindex="-1"></a>      <span class="dt">imaginary</span><span class="op">:</span> phasor_1_sameo_diffk<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> phasor_2_sameo_diffk<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb9-119"><a href="#cb9-119" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-120"><a href="#cb9-120" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb9-121"><a href="#cb9-121" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb9-122"><a href="#cb9-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-123"><a href="#cb9-123" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb9-124"><a href="#cb9-124" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb9-125"><a href="#cb9-125" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb9-126"><a href="#cb9-126" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb9-127"><a href="#cb9-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb9-128"><a href="#cb9-128" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-129"><a href="#cb9-129" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb9-130"><a href="#cb9-130" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb9-131"><a href="#cb9-131" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb9-132"><a href="#cb9-132" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-133"><a href="#cb9-133" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-134"><a href="#cb9-134" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb9-135"><a href="#cb9-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb9-136"><a href="#cb9-136" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb9-137"><a href="#cb9-137" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb9-138"><a href="#cb9-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-139"><a href="#cb9-139" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_sameo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb9-140"><a href="#cb9-140" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_sameo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb9-141"><a href="#cb9-141" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_sameo_diffk<span class="op">,</span> phasor_sameo_diffk[<span class="dv">0</span>]<span class="op">,</span> point_2_sameo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb9-142"><a href="#cb9-142" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_sameo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_sameo_diffk[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb9-143"><a href="#cb9-143" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_sameo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb9-144"><a href="#cb9-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-145"><a href="#cb9-145" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_locus_sameo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"purple"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb9-146"><a href="#cb9-146" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb9-147"><a href="#cb9-147" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-148"><a href="#cb9-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-149"><a href="#cb9-149" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb9-150"><a href="#cb9-150" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb9-151"><a href="#cb9-151" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb9-152"><a href="#cb9-152" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb9-153"><a href="#cb9-153" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-154"><a href="#cb9-154" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb9-155"><a href="#cb9-155" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb9-156"><a href="#cb9-156" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb9-157"><a href="#cb9-157" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-158"><a href="#cb9-158" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb9-159"><a href="#cb9-159" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb9-160"><a href="#cb9-160" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb9-161"><a href="#cb9-161" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb9-162"><a href="#cb9-162" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb9-163"><a href="#cb9-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-164"><a href="#cb9-164" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_sameo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_sameo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_sameo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb9-165"><a href="#cb9-165" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb9-166"><a href="#cb9-166" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_sameo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb9-167"><a href="#cb9-167" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_sameo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_sameo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb9-168"><a href="#cb9-168" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb9-169"><a href="#cb9-169" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb9-170"><a href="#cb9-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-171"><a href="#cb9-171" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb9-172"><a href="#cb9-172" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb9-173"><a href="#cb9-173" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb9-174"><a href="#cb9-174" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb9-175"><a href="#cb9-175" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb9-176"><a href="#cb9-176" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb9-177"><a href="#cb9-177" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-9-18" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Up until this point, the phase plot had no visual representation of the physical location. The progression of time (in the form of animation) only highlights the temporal components of the signal. We add the locus of all spatial phasor values in purple. In other words, while time is paused, scrubbing through space traces out a loopy path in phase space. We can watch how this path evolves over time.</p>
<p>If you experiment a bit, you can begin to understand how this locus changes with the provided parameters. It sort of changes with phase and magnitude, but those only really stretch or shift the locus. The loopiness of the locus and how it loops is really defined by the ratio of the two spatial frequencies. Try making some integer ratios! You’ll notice that positive and negative ratios result in different kinds of loci.</p>
<p>This locus can be mathematically modeled as follows. We start with the general expression for the sum of our two waves and transform it into the phasor domain. <span class="math display">\[
\begin{align*}
s(t, x) &amp;= M_1 \cos{(\omega t - k_1 x + \phi_1)} + M_2 \cos{(\omega t - k_2 x + \phi_2)} \\
&amp;= \Re\left(M_1 e^{i(\omega t - k_1 x + \phi_1)} + M_2 e^{i(\omega t - k_2 x + \phi_2)}\right) \\
&amp;= \Re\left((M_1 e^{i\phi_1} e^{-i k_1 x} + M_2 e^{i\phi_2} e^{-i k_2 x}) e^{i\omega t}\right) \\
\end{align*}
\]</span></p>
<p>At this point, notice that varying time simply applies a rotation to the phasor. Let’s look at just the argument in the inner parentheses and combine constants. Let’s also assume that <span class="math inline">\(k_2\)</span> is an integer multiple of <span class="math inline">\(k_1\)</span>. In other words, <span class="math inline">\(k_1 = k\)</span> and <span class="math inline">\(k_2 = nk\)</span> for some integer <span class="math inline">\(n\)</span>.</p>
<p><span class="math display">\[
M_1 e^{i\phi_1} e^{-i k_1 x} + M_2 e^{i\phi_2} e^{-i k_2 x} = \tilde M_1 e^{-i k x} + \tilde M_2 e^{-i nk x}
\]</span></p>
<p>This describes a large family of curves that includes things like cardioids, ellipses, lines, circles, epitrochoids, hypotrochoids, and more.</p>
<p>The shape of the locus can tell you some information about the signal as well. For instance,</p>
<ul>
<li>If the locus is symmetric about the origin, then the signal must have zero mean across space for all time.</li>
<li>If the locus is a circle centered on the origin (either magnitude is zero or <span class="math inline">\(k_1=k_2\)</span>), then the signal is a pure sinusoid across space.</li>
<li>If the locus is a line (<span class="math inline">\(M_1=M_2\)</span>, <span class="math inline">\(k_1=-k_2\)</span>), then the signal is a standing wave.</li>
<li>If the locus is an ellipse (<span class="math inline">\(k_1 = -k_2\)</span>), then the signal almost acts as a standing wave but shuffles in space. This is the general description of a sinusoidal wave added to its attenuated reflection.</li>
</ul>
<p>Understanding this locus and how its shape changes with the parameters can provide a lot of insight into why certain combinations of sinusoids results in certain types of waveforms. I highly recommend spending time playing with the parameters here.</p>
</section>
<section id="case-3-different-temporal-frequency-same-spatial-frequency" class="level4" data-number="3.3.3">
<h4 data-number="3.3.3" class="anchored" data-anchor-id="case-3-different-temporal-frequency-same-spatial-frequency"><span class="header-section-number">3.3.3</span> Case 3: Different Temporal Frequency, Same Spatial Frequency</h4>
<p>This case will be similar to the preceding one, really it’s equivalent to just being a different perspective of the same thing. So we’ll just skip to the plots.</p>
<p><span class="math display">\[
\begin{align*}
s(t, x) &amp;= M_1 \cos{(\omega_1 t - k x + \phi_1)} + M_2 \cos{(\omega_2 t - k x + \phi_2)} \\
&amp;= \Re\left(M_1 e^{i(\omega_1 t - k x + \phi_1)} + M_2 e^{i(\omega_2 t - k x + \phi_2)}\right) \\
\end{align*}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>time_duration_diffo_samek <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>space_dist_diffo_samek <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>space_array_diffo_samek <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_diffo_samek<span class="op">,</span> space_dist_diffo_samek<span class="op">*</span>fps)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>viewof t_diffo_samek <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_diffo_samek<span class="op">,</span> time_duration_diffo_samek<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>viewof x_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_diffo_samek<span class="op">,</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>viewof k_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>viewof omega_1_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>viewof phase_1_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>viewof omega_2_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a>viewof phase_2_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_diffo_samek <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>points_space_diffo_samek <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_diffo_samek<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_diffo_samek[i]<span class="op">,</span></span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_samek <span class="op">*</span> t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> space_array_diffo_samek[i]<span class="op">,</span> magnitude_1_diffo_samek<span class="op">,</span> phase_1_diffo_samek)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>        <span class="fu">calculatePhasor</span>(omega_2_diffo_samek <span class="op">*</span> t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> space_array_diffo_samek[i]<span class="op">,</span> magnitude_2_diffo_samek<span class="op">,</span> phase_2_diffo_samek)<span class="op">.</span><span class="at">real</span></span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a>point_1_diffo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_samek<span class="op">*</span>t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> x_diffo_samek<span class="op">,</span> magnitude_1_diffo_samek<span class="op">,</span> phase_1_diffo_samek)</span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a>point_2_diffo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_2_diffo_samek<span class="op">*</span>t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> x_diffo_samek<span class="op">,</span> magnitude_2_diffo_samek<span class="op">,</span> phase_2_diffo_samek)</span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>phasor_diffo_samek <span class="op">=</span> [</span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> point_1_diffo_samek<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_diffo_samek<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> point_1_diffo_samek<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_diffo_samek<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a>phasor_locus_diffo_samek <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_diffo_samek<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_1_diffo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_samek <span class="op">*</span> t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> space_array_diffo_samek[i]<span class="op">,</span> magnitude_1_diffo_samek<span class="op">,</span> phase_1_diffo_samek)</span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_2_diffo_samek <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_2_diffo_samek <span class="op">*</span> t_diffo_samek<span class="op">,</span> k_diffo_samek <span class="op">*</span> space_array_diffo_samek[i]<span class="op">,</span> magnitude_2_diffo_samek<span class="op">,</span> phase_2_diffo_samek)</span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a>      <span class="dt">real</span><span class="op">:</span> phasor_1_diffo_samek<span class="op">.</span><span class="at">real</span> <span class="op">+</span> phasor_2_diffo_samek<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a>      <span class="dt">imaginary</span><span class="op">:</span> phasor_1_diffo_samek<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> phasor_2_diffo_samek<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_diffo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_diffo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_diffo_samek<span class="op">,</span> phasor_diffo_samek[<span class="dv">0</span>]<span class="op">,</span> point_2_diffo_samek]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_diffo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_diffo_samek[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_diffo_samek<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_locus_diffo_samek<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"purple"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb10-156"><a href="#cb10-156" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb10-157"><a href="#cb10-157" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb10-159"><a href="#cb10-159" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb10-160"><a href="#cb10-160" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb10-161"><a href="#cb10-161" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb10-162"><a href="#cb10-162" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb10-163"><a href="#cb10-163" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-164"><a href="#cb10-164" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_diffo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_diffo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_diffo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb10-165"><a href="#cb10-165" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb10-166"><a href="#cb10-166" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_diffo_samek<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb10-167"><a href="#cb10-167" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_diffo_samek<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_diffo_samek[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb10-168"><a href="#cb10-168" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb10-169"><a href="#cb10-169" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb10-170"><a href="#cb10-170" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-171"><a href="#cb10-171" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb10-172"><a href="#cb10-172" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb10-173"><a href="#cb10-173" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb10-174"><a href="#cb10-174" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb10-175"><a href="#cb10-175" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb10-176"><a href="#cb10-176" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb10-177"><a href="#cb10-177" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-10-18" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>Essentially what’s happening is that the we are swapping time for space when compared to the previous case. We see a purely sinusoidal wave in the space domain that has a changing amplitude over time. The amplitude is not changing as a pure sinusoid, but rather will be oscillating similar to the space domain plots from the previous case.</p>
</section>
<section id="sec-case4" class="level4" data-number="3.3.4">
<h4 data-number="3.3.4" class="anchored" data-anchor-id="sec-case4"><span class="header-section-number">3.3.4</span> Case 4: Different Temporal Frequency, Different Spatial Frequency</h4>
<p>This case is the most general case. It sums together two sinusoids that can have differences in any of their parameters.</p>
<p><span class="math display">\[
\begin{align*}
s(t, x) &amp;= M_1 \cos{(\omega_1 t - k_1 x + \phi_1)} + M_2 \cos{(\omega_2 t - k_2 x + \phi_2)} \\
&amp;= \Re\left(M_1 e^{i(\omega_1 t - k_1 x + \phi_1)} + M_2 e^{i(\omega_2 t - k_2 x + \phi_2)}\right) \end{align*}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>time_duration_diffo_diffk <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>space_dist_diffo_diffk <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>space_array_diffo_diffk <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_diffo_diffk<span class="op">,</span> space_dist_diffo_diffk<span class="op">*</span>fps)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>viewof t_diffo_diffk <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_diffo_diffk<span class="op">,</span> time_duration_diffo_diffk<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>viewof x_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-13"><a href="#cb11-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-14"><a href="#cb11-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-15"><a href="#cb11-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_diffo_diffk<span class="op">,</span></span>
<span id="cb11-16"><a href="#cb11-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-17"><a href="#cb11-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-18"><a href="#cb11-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb11-19"><a href="#cb11-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb11-20"><a href="#cb11-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-21"><a href="#cb11-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-22"><a href="#cb11-22" aria-hidden="true" tabindex="-1"></a>viewof omega_1_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-23"><a href="#cb11-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-24"><a href="#cb11-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-25"><a href="#cb11-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-26"><a href="#cb11-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-27"><a href="#cb11-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb11-28"><a href="#cb11-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb11-29"><a href="#cb11-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb11-30"><a href="#cb11-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-31"><a href="#cb11-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-32"><a href="#cb11-32" aria-hidden="true" tabindex="-1"></a>viewof k_1_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-33"><a href="#cb11-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-34"><a href="#cb11-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb11-35"><a href="#cb11-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb11-36"><a href="#cb11-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-37"><a href="#cb11-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb11-38"><a href="#cb11-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb11-39"><a href="#cb11-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb11-40"><a href="#cb11-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-41"><a href="#cb11-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-42"><a href="#cb11-42" aria-hidden="true" tabindex="-1"></a>viewof phase_1_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-43"><a href="#cb11-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-44"><a href="#cb11-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-45"><a href="#cb11-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-46"><a href="#cb11-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-47"><a href="#cb11-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb11-48"><a href="#cb11-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb11-49"><a href="#cb11-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb11-50"><a href="#cb11-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-51"><a href="#cb11-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-52"><a href="#cb11-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_1_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-53"><a href="#cb11-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-54"><a href="#cb11-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-55"><a href="#cb11-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb11-56"><a href="#cb11-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-57"><a href="#cb11-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb11-58"><a href="#cb11-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb11-59"><a href="#cb11-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₁ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb11-60"><a href="#cb11-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-61"><a href="#cb11-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-62"><a href="#cb11-62" aria-hidden="true" tabindex="-1"></a>viewof omega_2_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-63"><a href="#cb11-63" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-64"><a href="#cb11-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-65"><a href="#cb11-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-66"><a href="#cb11-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-67"><a href="#cb11-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb11-68"><a href="#cb11-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb11-69"><a href="#cb11-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb11-70"><a href="#cb11-70" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-71"><a href="#cb11-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-72"><a href="#cb11-72" aria-hidden="true" tabindex="-1"></a>viewof k_2_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-73"><a href="#cb11-73" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-74"><a href="#cb11-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb11-75"><a href="#cb11-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb11-76"><a href="#cb11-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-77"><a href="#cb11-77" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb11-78"><a href="#cb11-78" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb11-79"><a href="#cb11-79" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb11-80"><a href="#cb11-80" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-81"><a href="#cb11-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-82"><a href="#cb11-82" aria-hidden="true" tabindex="-1"></a>viewof phase_2_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-83"><a href="#cb11-83" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-84"><a href="#cb11-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-85"><a href="#cb11-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb11-86"><a href="#cb11-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-87"><a href="#cb11-87" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb11-88"><a href="#cb11-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb11-89"><a href="#cb11-89" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb11-90"><a href="#cb11-90" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-91"><a href="#cb11-91" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-92"><a href="#cb11-92" aria-hidden="true" tabindex="-1"></a>viewof magnitude_2_diffo_diffk <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb11-93"><a href="#cb11-93" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-94"><a href="#cb11-94" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb11-95"><a href="#cb11-95" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb11-96"><a href="#cb11-96" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb11-97"><a href="#cb11-97" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb11-98"><a href="#cb11-98" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb11-99"><a href="#cb11-99" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M₂ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb11-100"><a href="#cb11-100" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb11-101"><a href="#cb11-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-102"><a href="#cb11-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-103"><a href="#cb11-103" aria-hidden="true" tabindex="-1"></a>points_space_diffo_diffk <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb11-104"><a href="#cb11-104" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_diffo_diffk<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb11-105"><a href="#cb11-105" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb11-106"><a href="#cb11-106" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_diffo_diffk[i]<span class="op">,</span></span>
<span id="cb11-107"><a href="#cb11-107" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_diffk <span class="op">*</span> t_diffo_diffk<span class="op">,</span> k_1_diffo_diffk <span class="op">*</span> space_array_diffo_diffk[i]<span class="op">,</span> magnitude_1_diffo_diffk<span class="op">,</span> phase_1_diffo_diffk)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb11-108"><a href="#cb11-108" aria-hidden="true" tabindex="-1"></a>        <span class="fu">calculatePhasor</span>(omega_2_diffo_diffk <span class="op">*</span> t_diffo_diffk<span class="op">,</span> k_2_diffo_diffk <span class="op">*</span> space_array_diffo_diffk[i]<span class="op">,</span> magnitude_2_diffo_diffk<span class="op">,</span> phase_2_diffo_diffk)<span class="op">.</span><span class="at">real</span></span>
<span id="cb11-109"><a href="#cb11-109" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-110"><a href="#cb11-110" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-111"><a href="#cb11-111" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-112"><a href="#cb11-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-113"><a href="#cb11-113" aria-hidden="true" tabindex="-1"></a>point_1_diffo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_diffk<span class="op">*</span>t_diffo_diffk<span class="op">,</span> k_1_diffo_diffk <span class="op">*</span> x_diffo_diffk<span class="op">,</span> magnitude_1_diffo_diffk<span class="op">,</span> phase_1_diffo_diffk)</span>
<span id="cb11-114"><a href="#cb11-114" aria-hidden="true" tabindex="-1"></a>point_2_diffo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_2_diffo_diffk<span class="op">*</span>t_diffo_diffk<span class="op">,</span> k_2_diffo_diffk <span class="op">*</span> x_diffo_diffk<span class="op">,</span> magnitude_2_diffo_diffk<span class="op">,</span> phase_2_diffo_diffk)</span>
<span id="cb11-115"><a href="#cb11-115" aria-hidden="true" tabindex="-1"></a>phasor_diffo_diffk <span class="op">=</span> [</span>
<span id="cb11-116"><a href="#cb11-116" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb11-117"><a href="#cb11-117" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> point_1_diffo_diffk<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_2_diffo_diffk<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb11-118"><a href="#cb11-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> point_1_diffo_diffk<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_2_diffo_diffk<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb11-119"><a href="#cb11-119" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-120"><a href="#cb11-120" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb11-121"><a href="#cb11-121" aria-hidden="true" tabindex="-1"></a>phasor_locus_diffo_diffk <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb11-122"><a href="#cb11-122" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_diffo_diffk<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb11-123"><a href="#cb11-123" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_1_diffo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_1_diffo_diffk <span class="op">*</span> t_diffo_diffk<span class="op">,</span> k_1_diffo_diffk <span class="op">*</span> space_array_diffo_diffk[i]<span class="op">,</span> magnitude_1_diffo_diffk<span class="op">,</span> phase_1_diffo_diffk)</span>
<span id="cb11-124"><a href="#cb11-124" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_2_diffo_diffk <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_2_diffo_diffk <span class="op">*</span> t_diffo_diffk<span class="op">,</span> k_2_diffo_diffk <span class="op">*</span> space_array_diffo_diffk[i]<span class="op">,</span> magnitude_2_diffo_diffk<span class="op">,</span> phase_2_diffo_diffk)</span>
<span id="cb11-125"><a href="#cb11-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-126"><a href="#cb11-126" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb11-127"><a href="#cb11-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">real</span><span class="op">:</span> phasor_1_diffo_diffk<span class="op">.</span><span class="at">real</span> <span class="op">+</span> phasor_2_diffo_diffk<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb11-128"><a href="#cb11-128" aria-hidden="true" tabindex="-1"></a>      <span class="dt">imaginary</span><span class="op">:</span> phasor_1_diffo_diffk<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> phasor_2_diffo_diffk<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb11-129"><a href="#cb11-129" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb11-130"><a href="#cb11-130" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb11-131"><a href="#cb11-131" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb11-132"><a href="#cb11-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-133"><a href="#cb11-133" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb11-134"><a href="#cb11-134" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb11-135"><a href="#cb11-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb11-136"><a href="#cb11-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb11-137"><a href="#cb11-137" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb11-138"><a href="#cb11-138" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb11-139"><a href="#cb11-139" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb11-140"><a href="#cb11-140" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb11-141"><a href="#cb11-141" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb11-142"><a href="#cb11-142" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb11-143"><a href="#cb11-143" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb11-144"><a href="#cb11-144" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb11-145"><a href="#cb11-145" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb11-146"><a href="#cb11-146" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-147"><a href="#cb11-147" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-148"><a href="#cb11-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-149"><a href="#cb11-149" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_1_diffo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb11-150"><a href="#cb11-150" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_2_diffo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb11-151"><a href="#cb11-151" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_1_diffo_diffk<span class="op">,</span> phasor_diffo_diffk[<span class="dv">0</span>]<span class="op">,</span> point_2_diffo_diffk]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb11-152"><a href="#cb11-152" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_diffo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_diffo_diffk[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb11-153"><a href="#cb11-153" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_diffo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb11-154"><a href="#cb11-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-155"><a href="#cb11-155" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_locus_diffo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"purple"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-156"><a href="#cb11-156" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb11-157"><a href="#cb11-157" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb11-158"><a href="#cb11-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-159"><a href="#cb11-159" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb11-160"><a href="#cb11-160" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb11-161"><a href="#cb11-161" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb11-162"><a href="#cb11-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb11-163"><a href="#cb11-163" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb11-164"><a href="#cb11-164" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb11-165"><a href="#cb11-165" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb11-166"><a href="#cb11-166" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb11-167"><a href="#cb11-167" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb11-168"><a href="#cb11-168" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb11-169"><a href="#cb11-169" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb11-170"><a href="#cb11-170" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb11-171"><a href="#cb11-171" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-172"><a href="#cb11-172" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb11-173"><a href="#cb11-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-174"><a href="#cb11-174" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_diffo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_diffo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_diffo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb11-175"><a href="#cb11-175" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb11-176"><a href="#cb11-176" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_diffo_diffk<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb11-177"><a href="#cb11-177" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_diffo_diffk<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_diffo_diffk[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb11-178"><a href="#cb11-178" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb11-179"><a href="#cb11-179" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb11-180"><a href="#cb11-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-181"><a href="#cb11-181" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb11-182"><a href="#cb11-182" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb11-183"><a href="#cb11-183" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb11-184"><a href="#cb11-184" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb11-185"><a href="#cb11-185" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb11-186"><a href="#cb11-186" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb11-187"><a href="#cb11-187" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-11-19" data-nodetype="expression">

</div>
</div>
</div>
</div>
<p>At first glance, this looks pretty similar to the case with common temporal frequencies and different spatial frequencies. On closer inspection there are some strange things. For instance, standing waves can now slowly creep through space, oscillating sinusoids can move forwards and then backwards, and in general the locus can now change shape over time.</p>
<p>The main effect seems to be that the rotation of the locus can be pushed along further as a result of the different temporal frequencies.</p>
</section>
</section>
<section id="relative-parameters" class="level3" data-number="3.4">
<h3 data-number="3.4" class="anchored" data-anchor-id="relative-parameters"><span class="header-section-number">3.4</span> Relative Parameters</h3>
<p>In the previous section, one of the takeaways is that the ratio of frequencies matters more than the absolute values of the frequencies themselves when understanding the behavior of the wave. As such, it is often convenient to parameterize the function in terms of these ratios. Below is a fully generalized sum of two sinusoidal waves with relative parameters. The notation for wave reflections is borrowed here.</p>
<p>The behavior is the exact same as <a href="#sec-case4" class="quarto-xref">Section&nbsp;3.3.4</a>, but easier to manipulate.</p>
<p><span class="math display">\[
s(t, x) = M \cos{(\omega t - k x + \phi)} + M |\Gamma| \cos{(\omega  \Omega t - k K x + \phi + \angle\Gamma)}
\]</span></p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12" data-startfrom="1" data-source-offset="-1"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>time_duration_rel <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>space_dist_rel <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>space_array_rel <span class="op">=</span> d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> space_dist_rel<span class="op">,</span> space_dist_rel<span class="op">*</span>fps)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>viewof t_rel <span class="op">=</span> <span class="fu">Scrubber</span>(d3<span class="op">.</span><span class="fu">ticks</span>(<span class="dv">0</span><span class="op">,</span> time_duration_rel<span class="op">,</span> time_duration_rel<span class="op">*</span>fps)<span class="op">,</span> {</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a>  <span class="dt">autoplay</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>  <span class="dt">loop</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>  <span class="dt">initial</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>  <span class="dt">format</span><span class="op">:</span> x <span class="kw">=&gt;</span> <span class="vs">`t = </span><span class="sc">${</span>x<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>)<span class="sc">}</span><span class="vs"> [sec]`</span><span class="op">,</span></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a>  <span class="dt">delay</span><span class="op">:</span> dt <span class="op">*</span> <span class="dv">1000</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>})</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>viewof x_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> space_dist_rel<span class="op">,</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"x = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [meters]"</span></span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a>viewof omega_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-23"><a href="#cb12-23" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-24"><a href="#cb12-24" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-25"><a href="#cb12-25" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb12-26"><a href="#cb12-26" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-27"><a href="#cb12-27" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-28"><a href="#cb12-28" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb12-29"><a href="#cb12-29" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec]"</span></span>
<span id="cb12-30"><a href="#cb12-30" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-31"><a href="#cb12-31" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-32"><a href="#cb12-32" aria-hidden="true" tabindex="-1"></a>viewof k_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-33"><a href="#cb12-33" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-34"><a href="#cb12-34" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb12-35"><a href="#cb12-35" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb12-36"><a href="#cb12-36" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-37"><a href="#cb12-37" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb12-38"><a href="#cb12-38" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb12-39"><a href="#cb12-39" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"k = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/meter]"</span></span>
<span id="cb12-40"><a href="#cb12-40" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-41"><a href="#cb12-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-42"><a href="#cb12-42" aria-hidden="true" tabindex="-1"></a>viewof phase_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-43"><a href="#cb12-43" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-44"><a href="#cb12-44" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb12-45"><a href="#cb12-45" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb12-46"><a href="#cb12-46" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-47"><a href="#cb12-47" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb12-48"><a href="#cb12-48" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb12-49"><a href="#cb12-49" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"φ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb12-50"><a href="#cb12-50" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-51"><a href="#cb12-51" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-52"><a href="#cb12-52" aria-hidden="true" tabindex="-1"></a>viewof magnitude_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-53"><a href="#cb12-53" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-54"><a href="#cb12-54" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb12-55"><a href="#cb12-55" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb12-56"><a href="#cb12-56" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-57"><a href="#cb12-57" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.4</span><span class="op">,</span></span>
<span id="cb12-58"><a href="#cb12-58" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb12-59"><a href="#cb12-59" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"M = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [magnitude]"</span></span>
<span id="cb12-60"><a href="#cb12-60" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-61"><a href="#cb12-61" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-62"><a href="#cb12-62" aria-hidden="true" tabindex="-1"></a>viewof omega_r_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-63"><a href="#cb12-63" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-64"><a href="#cb12-64" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb12-65"><a href="#cb12-65" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb12-66"><a href="#cb12-66" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="fl">0.01</span><span class="op">,</span></span>
<span id="cb12-67"><a href="#cb12-67" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">1.5</span><span class="op">,</span></span>
<span id="cb12-68"><a href="#cb12-68" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"angular frequency"</span><span class="op">,</span></span>
<span id="cb12-69"><a href="#cb12-69" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"Ω = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/sec / rad/sec]"</span></span>
<span id="cb12-70"><a href="#cb12-70" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-71"><a href="#cb12-71" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-72"><a href="#cb12-72" aria-hidden="true" tabindex="-1"></a>viewof k_r_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-73"><a href="#cb12-73" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-74"><a href="#cb12-74" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">4</span><span class="op">,</span></span>
<span id="cb12-75"><a href="#cb12-75" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">4</span><span class="op">,</span></span>
<span id="cb12-76"><a href="#cb12-76" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-77"><a href="#cb12-77" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.5</span><span class="op">,</span></span>
<span id="cb12-78"><a href="#cb12-78" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"position"</span><span class="op">,</span></span>
<span id="cb12-79"><a href="#cb12-79" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"K = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [rad/met / rad/met]"</span></span>
<span id="cb12-80"><a href="#cb12-80" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-81"><a href="#cb12-81" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-82"><a href="#cb12-82" aria-hidden="true" tabindex="-1"></a>viewof phase_r_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-83"><a href="#cb12-83" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-84"><a href="#cb12-84" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb12-85"><a href="#cb12-85" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="bu">Math</span><span class="op">.</span><span class="cn">PI</span><span class="op">,</span></span>
<span id="cb12-86"><a href="#cb12-86" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-87"><a href="#cb12-87" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="op">-</span><span class="fl">0.2</span><span class="op">,</span></span>
<span id="cb12-88"><a href="#cb12-88" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"phase shift"</span><span class="op">,</span></span>
<span id="cb12-89"><a href="#cb12-89" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"∠Γ = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [radians]"</span></span>
<span id="cb12-90"><a href="#cb12-90" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-91"><a href="#cb12-91" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-92"><a href="#cb12-92" aria-hidden="true" tabindex="-1"></a>viewof magnitude_r_rel <span class="op">=</span> <span class="fu">slider</span>(</span>
<span id="cb12-93"><a href="#cb12-93" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-94"><a href="#cb12-94" aria-hidden="true" tabindex="-1"></a>    <span class="dt">min</span><span class="op">:</span> <span class="op">-</span><span class="dv">2</span><span class="op">,</span></span>
<span id="cb12-95"><a href="#cb12-95" aria-hidden="true" tabindex="-1"></a>    <span class="dt">max</span><span class="op">:</span> <span class="dv">2</span><span class="op">,</span></span>
<span id="cb12-96"><a href="#cb12-96" aria-hidden="true" tabindex="-1"></a>    <span class="dt">step</span><span class="op">:</span> <span class="op">.</span><span class="bn">01</span><span class="op">,</span></span>
<span id="cb12-97"><a href="#cb12-97" aria-hidden="true" tabindex="-1"></a>    <span class="dt">value</span><span class="op">:</span> <span class="fl">0.8</span><span class="op">,</span></span>
<span id="cb12-98"><a href="#cb12-98" aria-hidden="true" tabindex="-1"></a>    <span class="dt">label</span><span class="op">:</span> <span class="st">"magnitude"</span><span class="op">,</span></span>
<span id="cb12-99"><a href="#cb12-99" aria-hidden="true" tabindex="-1"></a>    <span class="dt">format</span><span class="op">:</span> v <span class="kw">=&gt;</span> <span class="st">"|Γ| = "</span> <span class="op">+</span> v<span class="op">.</span><span class="fu">toFixed</span>(<span class="dv">2</span>) <span class="op">+</span> <span class="st">" [mag/mag]"</span></span>
<span id="cb12-100"><a href="#cb12-100" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span></span>
<span id="cb12-101"><a href="#cb12-101" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-102"><a href="#cb12-102" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-103"><a href="#cb12-103" aria-hidden="true" tabindex="-1"></a>points_space_rel <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb12-104"><a href="#cb12-104" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_rel<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb12-105"><a href="#cb12-105" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb12-106"><a href="#cb12-106" aria-hidden="true" tabindex="-1"></a>      <span class="dt">space</span><span class="op">:</span> space_array_rel[i]<span class="op">,</span></span>
<span id="cb12-107"><a href="#cb12-107" aria-hidden="true" tabindex="-1"></a>      <span class="dt">amplitude</span><span class="op">:</span> <span class="fu">calculatePhasor</span>(omega_rel <span class="op">*</span> t_rel<span class="op">,</span> k_rel <span class="op">*</span> space_array_rel[i]<span class="op">,</span> magnitude_rel<span class="op">,</span> phase_rel)<span class="op">.</span><span class="at">real</span> <span class="op">+</span> </span>
<span id="cb12-108"><a href="#cb12-108" aria-hidden="true" tabindex="-1"></a>        <span class="fu">calculatePhasor</span>(omega_rel <span class="op">*</span> omega_r_rel <span class="op">*</span> t_rel<span class="op">,</span> k_rel <span class="op">*</span> k_r_rel <span class="op">*</span> space_array_rel[i]<span class="op">,</span> magnitude_rel <span class="op">*</span> magnitude_r_rel<span class="op">,</span> phase_rel <span class="op">+</span> phase_r_rel)<span class="op">.</span><span class="at">real</span></span>
<span id="cb12-109"><a href="#cb12-109" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-110"><a href="#cb12-110" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-111"><a href="#cb12-111" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-112"><a href="#cb12-112" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-113"><a href="#cb12-113" aria-hidden="true" tabindex="-1"></a>point_rel <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_rel<span class="op">*</span>t_rel<span class="op">,</span> k_rel <span class="op">*</span> x_rel<span class="op">,</span> magnitude_rel<span class="op">,</span> phase_rel)</span>
<span id="cb12-114"><a href="#cb12-114" aria-hidden="true" tabindex="-1"></a>point_r_rel <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_rel <span class="op">*</span> omega_r_rel<span class="op">*</span>t_rel<span class="op">,</span> k_rel <span class="op">*</span> k_r_rel <span class="op">*</span> x_rel<span class="op">,</span> magnitude_rel <span class="op">*</span> magnitude_r_rel<span class="op">,</span> phase_rel <span class="op">+</span> phase_r_rel)</span>
<span id="cb12-115"><a href="#cb12-115" aria-hidden="true" tabindex="-1"></a>phasor_rel <span class="op">=</span> [</span>
<span id="cb12-116"><a href="#cb12-116" aria-hidden="true" tabindex="-1"></a>  {</span>
<span id="cb12-117"><a href="#cb12-117" aria-hidden="true" tabindex="-1"></a>    <span class="dt">real</span><span class="op">:</span> point_rel<span class="op">.</span><span class="at">real</span> <span class="op">+</span> point_r_rel<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb12-118"><a href="#cb12-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">imaginary</span><span class="op">:</span> point_rel<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> point_r_rel<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb12-119"><a href="#cb12-119" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-120"><a href="#cb12-120" aria-hidden="true" tabindex="-1"></a>]</span>
<span id="cb12-121"><a href="#cb12-121" aria-hidden="true" tabindex="-1"></a>phasor_locus_rel <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb12-122"><a href="#cb12-122" aria-hidden="true" tabindex="-1"></a>  {<span class="dt">length</span><span class="op">:</span> space_array_rel<span class="op">.</span><span class="at">length</span>}<span class="op">,</span> (_<span class="op">,</span> i) <span class="kw">=&gt;</span> {</span>
<span id="cb12-123"><a href="#cb12-123" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_rel <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_rel <span class="op">*</span> t_rel<span class="op">,</span> k_rel <span class="op">*</span> space_array_rel[i]<span class="op">,</span> magnitude_rel<span class="op">,</span> phase_rel)</span>
<span id="cb12-124"><a href="#cb12-124" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> phasor_r_rel <span class="op">=</span> <span class="fu">calculatePhasor</span>(omega_rel <span class="op">*</span> omega_r_rel <span class="op">*</span> t_rel<span class="op">,</span> k_rel <span class="op">*</span> k_r_rel <span class="op">*</span> space_array_rel[i]<span class="op">,</span> magnitude_rel <span class="op">*</span> magnitude_r_rel<span class="op">,</span> phase_rel <span class="op">+</span> phase_r_rel)</span>
<span id="cb12-125"><a href="#cb12-125" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-126"><a href="#cb12-126" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb12-127"><a href="#cb12-127" aria-hidden="true" tabindex="-1"></a>      <span class="dt">real</span><span class="op">:</span> phasor_rel<span class="op">.</span><span class="at">real</span> <span class="op">+</span> phasor_r_rel<span class="op">.</span><span class="at">real</span><span class="op">,</span></span>
<span id="cb12-128"><a href="#cb12-128" aria-hidden="true" tabindex="-1"></a>      <span class="dt">imaginary</span><span class="op">:</span> phasor_rel<span class="op">.</span><span class="at">imaginary</span> <span class="op">+</span> phasor_r_rel<span class="op">.</span><span class="at">imaginary</span></span>
<span id="cb12-129"><a href="#cb12-129" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb12-130"><a href="#cb12-130" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb12-131"><a href="#cb12-131" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb12-132"><a href="#cb12-132" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-133"><a href="#cb12-133" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb12-134"><a href="#cb12-134" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> phase_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb12-135"><a href="#cb12-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb12-136"><a href="#cb12-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Real"</span><span class="op">,</span></span>
<span id="cb12-137"><a href="#cb12-137" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb12-138"><a href="#cb12-138" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb12-139"><a href="#cb12-139" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb12-140"><a href="#cb12-140" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Imaginary"</span><span class="op">,</span></span>
<span id="cb12-141"><a href="#cb12-141" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb12-142"><a href="#cb12-142" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb12-143"><a href="#cb12-143" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-144"><a href="#cb12-144" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb12-145"><a href="#cb12-145" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb12-146"><a href="#cb12-146" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb12-147"><a href="#cb12-147" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb12-148"><a href="#cb12-148" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-149"><a href="#cb12-149" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_rel]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"green"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb12-150"><a href="#cb12-150" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> point_r_rel]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"orange"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb12-151"><a href="#cb12-151" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([point_rel<span class="op">,</span> phasor_rel[<span class="dv">0</span>]<span class="op">,</span> point_r_rel]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb12-152"><a href="#cb12-152" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">real</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">imaginary</span><span class="op">:</span> phasor_rel[<span class="dv">0</span>]<span class="op">.</span><span class="at">imaginary</span>}<span class="op">,</span> phasor_rel[<span class="dv">0</span>]]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb12-153"><a href="#cb12-153" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>(phasor_rel<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span>})<span class="op">,</span></span>
<span id="cb12-154"><a href="#cb12-154" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-155"><a href="#cb12-155" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(phasor_locus_rel<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"real"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"imaginary"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"purple"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb12-156"><a href="#cb12-156" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb12-157"><a href="#cb12-157" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb12-158"><a href="#cb12-158" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-159"><a href="#cb12-159" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> space_plot <span class="op">=</span> Plot<span class="op">.</span><span class="fu">plot</span>({</span>
<span id="cb12-160"><a href="#cb12-160" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> {</span>
<span id="cb12-161"><a href="#cb12-161" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Space"</span><span class="op">,</span></span>
<span id="cb12-162"><a href="#cb12-162" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> <span class="dv">10</span>]<span class="op">,</span></span>
<span id="cb12-163"><a href="#cb12-163" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb12-164"><a href="#cb12-164" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> {</span>
<span id="cb12-165"><a href="#cb12-165" aria-hidden="true" tabindex="-1"></a>      <span class="dt">label</span><span class="op">:</span> <span class="st">"Amplitude"</span><span class="op">,</span></span>
<span id="cb12-166"><a href="#cb12-166" aria-hidden="true" tabindex="-1"></a>      <span class="dt">domain</span><span class="op">:</span> [<span class="op">-</span><span class="dv">4</span><span class="op">,</span> <span class="dv">4</span>]<span class="op">,</span></span>
<span id="cb12-167"><a href="#cb12-167" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb12-168"><a href="#cb12-168" aria-hidden="true" tabindex="-1"></a>    <span class="dt">ratio</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb12-169"><a href="#cb12-169" aria-hidden="true" tabindex="-1"></a>    <span class="dt">width</span><span class="op">:</span> <span class="dv">400</span><span class="op">,</span></span>
<span id="cb12-170"><a href="#cb12-170" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marks</span><span class="op">:</span> [</span>
<span id="cb12-171"><a href="#cb12-171" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleY</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb12-172"><a href="#cb12-172" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">ruleX</span>([<span class="dv">0</span>]<span class="op">,</span> {<span class="dt">stroke</span><span class="op">:</span> <span class="st">"black"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">1</span>})<span class="op">,</span></span>
<span id="cb12-173"><a href="#cb12-173" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-174"><a href="#cb12-174" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>([{<span class="dt">space</span><span class="op">:</span> x_rel<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> <span class="dv">0</span>}<span class="op">,</span> {<span class="dt">space</span><span class="op">:</span> x_rel<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_rel[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span></span>
<span id="cb12-175"><a href="#cb12-175" aria-hidden="true" tabindex="-1"></a>        {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"blue"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">4</span>})<span class="op">,</span></span>
<span id="cb12-176"><a href="#cb12-176" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">line</span>(points_space_rel<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span><span class="op">,</span> <span class="dt">stroke</span><span class="op">:</span> <span class="st">"red"</span><span class="op">,</span> <span class="dt">strokeWidth</span><span class="op">:</span> <span class="dv">2</span>})<span class="op">,</span></span>
<span id="cb12-177"><a href="#cb12-177" aria-hidden="true" tabindex="-1"></a>      Plot<span class="op">.</span><span class="fu">dot</span>([{<span class="dt">space</span><span class="op">:</span> x_rel<span class="op">,</span> <span class="dt">amplitude</span><span class="op">:</span> phasor_rel[<span class="dv">0</span>]<span class="op">.</span><span class="at">real</span>}]<span class="op">,</span> {<span class="dt">x</span><span class="op">:</span> <span class="st">"space"</span><span class="op">,</span> <span class="dt">y</span><span class="op">:</span> <span class="st">"amplitude"</span>})<span class="op">,</span></span>
<span id="cb12-178"><a href="#cb12-178" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb12-179"><a href="#cb12-179" aria-hidden="true" tabindex="-1"></a>  })</span>
<span id="cb12-180"><a href="#cb12-180" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-181"><a href="#cb12-181" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> <span class="fu">html</span><span class="vs">`&lt;div style="display:flex; gap:20px"&gt;</span></span>
<span id="cb12-182"><a href="#cb12-182" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Phase Domain</span></span>
<span id="cb12-183"><a href="#cb12-183" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>phase_plot<span class="sc">}</span></span>
<span id="cb12-184"><a href="#cb12-184" aria-hidden="true" tabindex="-1"></a><span class="vs">    &lt;h3&gt; Space Domain</span></span>
<span id="cb12-185"><a href="#cb12-185" aria-hidden="true" tabindex="-1"></a><span class="vs">    </span><span class="sc">${</span>space_plot<span class="sc">}</span></span>
<span id="cb12-186"><a href="#cb12-186" aria-hidden="true" tabindex="-1"></a><span class="vs">  &lt;</span><span class="sc">\d</span><span class="vs">iv&gt;`</span></span>
<span id="cb12-187"><a href="#cb12-187" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-2" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-4" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-6" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-9" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-10" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-11" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-12" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-13" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-14" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-15" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-16" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-17" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-18" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell-output cell-output-display">
<div>
<div id="ojs-cell-12-19" data-nodetype="expression">

</div>
</div>
</div>
</div>
</section>
</section>
<section id="conclusion" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="conclusion"><span class="header-section-number">4</span> Conclusion</h2>
<p>Hopefully you’re convinced that there is lots of information that can be extracted from signals by looking at its phasor representation. Through this lens, you can extract some intuition about not just sinusoidal signals, but waves, reflections, beats, and more.</p>
<p>If you have any questions about particular sections, feel free to highlight them and comment using Hypothesis (sidebar). General comments can be asked in the comments section below.</p>
<!-- REFERENCES -->
</section>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<section id="references" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="references"><span class="header-section-number">5</span> References</h2>
<div id="ref-goldstein_input_impedance_2025" class="csl-entry" role="listitem">
Goldstein, Evan. 2025a. <span>“Input Impedance.”</span> Lecture notes, ECE Department, University of Washington.
</div>
<div id="ref-goldstein_preliminaries_2025" class="csl-entry" role="listitem">
———. 2025b. <span>“Preliminaries.”</span> Lecture notes, ECE Department, University of Washington.
</div>
</section>
</div>
<hr>
<!-- EDIT HISTORY -->
<!-- ::: {.callout-note}
## Edit History

- **20YY-MM-DD**: EDIT NOTE
:::

--- -->
<!-- COMMENTS/REACTIONS -->



</main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7c2xpZGVyfSBmcm9tIFwiQGphc2hrZW5hcy9pbnB1dHNcIlxudmlld29mIGFuZ2xlID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtMipNYXRoLlBJLCBcbiAgICBtYXg6IDIqTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAsXG4gICAgbGFiZWw6IFwiYW5nbGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLOuCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZGlhbnNdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV9zaGlmdCA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMCxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+GID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk0gPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcblxucG9pbnQgPSBbXG4gIHtyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LFxuICB7cmVhbDogbWFnbml0dWRlKk1hdGguY29zKGFuZ2xlICsgcGhhc2Vfc2hpZnQpLCBpbWFnaW5hcnk6IG1hZ25pdHVkZSpNYXRoLnNpbihhbmdsZSArIHBoYXNlX3NoaWZ0KX0sXG5dXG5cbmFuZ2xlX21hcmtfZnVuYyA9IGFuZ2xlID0+IDAuNSArIGFuZ2xlIC8gKDIqTWF0aC5QSSAqIDEwKVxuYW5nbGVfcG9pbnRzID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogNTB9LCAoXywgaSkgPT4ge1xuICAgIGNvbnN0IHQgPSBhbmdsZSAqIGkgLyA0OVxuICAgIHJldHVybiB7cmVhbDogbWFnbml0dWRlICogYW5nbGVfbWFya19mdW5jKHQpICogTWF0aC5jb3ModCksIGltYWdpbmFyeTogbWFnbml0dWRlICogYW5nbGVfbWFya19mdW5jKHQpICogTWF0aC5zaW4odCl9XG4gIH1cbilcblxucGhhc2VfbWFya19mdW5jID0gcGhhc2Vfc2hpZnQgPT4gYW5nbGVfbWFya19mdW5jKGFuZ2xlKSArIHBoYXNlX3NoaWZ0IC8gKDIqTWF0aC5QSSAqIDEwKVxucGhhc2Vfc2hpZnRfcG9pbnRzID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogNTB9LCAoXywgaSkgPT4ge1xuICAgIGNvbnN0IHQgPSBwaGFzZV9zaGlmdCAqIGkgLyA0OVxuICAgIHJldHVybiB7cmVhbDogbWFnbml0dWRlICogcGhhc2VfbWFya19mdW5jKHQpICogTWF0aC5jb3ModCArIGFuZ2xlKSwgaW1hZ2luYXJ5OiBtYWduaXR1ZGUgKiBwaGFzZV9tYXJrX2Z1bmModCkgKiBNYXRoLnNpbih0ICsgYW5nbGUpfVxuICB9XG4pXG5cblBsb3QucGxvdCh7XG4gIHg6IHtcbiAgICBsYWJlbDogXCJSZWFsXCIsXG4gICAgZG9tYWluOiBbLTIsIDJdLFxuICB9LFxuICB5OiB7XG4gICAgbGFiZWw6IFwiSW1hZ2luYXJ5XCIsXG4gICAgZG9tYWluOiBbLTIsIDJdLFxuICB9LFxuICByYXRpbzogMSxcbiAgd2lkdGg6IDQwMCxcbiAgaGVpZ2h0OiA0MDAsXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5kb3QocG9pbnQsIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIn0pLFxuICAgIFBsb3QubGluZShwb2ludCwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG4gICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgIFBsb3QubGluZShhbmdsZV9wb2ludHMsIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICBQbG90LmxpbmUocGhhc2Vfc2hpZnRfcG9pbnRzLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgXSxcbn0pXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ2aWV3b2YgYW5nbGVfMSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLTIqTWF0aC5QSSwgXG4gICAgbWF4OiAyKk1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLFxuICAgIGxhYmVsOiBcImFuZ2xlXzFcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLOuOKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZGlhbnNdXCJcbiAgfSxcbilcbnZpZXdvZiBtYWduaXR1ZGVfMSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZV8xXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiTeKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21hZ25pdHVkZV1cIlxuICB9LFxuKVxudmlld29mIGFuZ2xlXzIgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC1NYXRoLlBJLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAsXG4gICAgbGFiZWw6IFwiYW5nbGVfMlwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs644oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8yID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwibWFnbml0dWRlXzJcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG5cbnN1bV9wb2ludHMgPSBbXG4gIHtyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LFxuICB7cmVhbDogbWFnbml0dWRlXzEqTWF0aC5jb3MoYW5nbGVfMSksIGltYWdpbmFyeTogbWFnbml0dWRlXzEqTWF0aC5zaW4oYW5nbGVfMSl9LFxuICB7cmVhbDogbWFnbml0dWRlXzEqTWF0aC5jb3MoYW5nbGVfMSkgKyBtYWduaXR1ZGVfMipNYXRoLmNvcyhhbmdsZV8yKSwgaW1hZ2luYXJ5OiBtYWduaXR1ZGVfMSpNYXRoLnNpbihhbmdsZV8xKSArIG1hZ25pdHVkZV8yKk1hdGguc2luKGFuZ2xlXzIpfSxcbl1cblxucmVhbF9tYXJrZXIgPSBbXG4gICAge3JlYWw6IDAsIGltYWdpbmFyeTogbWFnbml0dWRlXzEqTWF0aC5zaW4oYW5nbGVfMSkgKyBtYWduaXR1ZGVfMipNYXRoLnNpbihhbmdsZV8yKX0sXG4gICAge3JlYWw6IG1hZ25pdHVkZV8xKk1hdGguY29zKGFuZ2xlXzEpK21hZ25pdHVkZV8yKk1hdGguY29zKGFuZ2xlXzIpLCBpbWFnaW5hcnk6IG1hZ25pdHVkZV8xKk1hdGguc2luKGFuZ2xlXzEpICsgbWFnbml0dWRlXzIqTWF0aC5zaW4oYW5nbGVfMil9LFxuXVxuXG5QbG90LnBsb3Qoe1xuICB4OiB7XG4gICAgbGFiZWw6IFwiUmVhbFwiLFxuICAgIGRvbWFpbjogWy00LCA0XSxcbiAgfSxcbiAgeToge1xuICAgIGxhYmVsOiBcIkltYWdpbmFyeVwiLFxuICAgIGRvbWFpbjogWy00LCA0XSxcbiAgfSxcbiAgcmF0aW86IDEsXG4gIHdpZHRoOiA0MDAsXG4gIGhlaWdodDogNDAwLFxuICBtYXJrczogW1xuICAgIFBsb3QuZG90KHN1bV9wb2ludHMsIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIn0pLFxuICAgIFBsb3QubGluZShzdW1fcG9pbnRzLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCJ9KSxcbiAgICBQbG90LnJ1bGVZKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgUGxvdC5saW5lKHJlYWxfbWFya2VyLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogNH0pLFxuICBdLFxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6ImltcG9ydCB7U2NydWJiZXJ9IGZyb20gXCJAbWJvc3RvY2svc2NydWJiZXJcIlxuXG50aW1lX2R1cmF0aW9uX3RpbWVfc2luZ2xlID0gMipNYXRoLlBJIC8gb21lZ2FfdGltZV9zaW5nbGVcbmZwcyA9IDIwXG5kdCA9IDEvZnBzXG5cbnZpZXdvZiB0X3RpbWVfc2luZ2xlID0gU2NydWJiZXIoZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl90aW1lX3NpbmdsZSwgdGltZV9kdXJhdGlvbl90aW1lX3NpbmdsZSpmcHMpLCB7XG4gIGF1dG9wbGF5OiBmYWxzZSxcbiAgbG9vcDogdHJ1ZSxcbiAgaW5pdGlhbDogMCxcbiAgZm9ybWF0OiB4ID0+IGB0ID0gJHt4LnRvRml4ZWQoMil9IFtzZWNdYCxcbiAgZGVsYXk6IGR0ICogMTAwMFxufSlcbnZpZXdvZiBvbWVnYV90aW1lX3NpbmdsZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPiSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV90aW1lX3NpbmdsZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMCxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+GID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV90aW1lX3NpbmdsZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk0gPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcblxucGhhc29yX3RpbWVfc2luZ2xlID0gW1xuICB7cmVhbDogbWFnbml0dWRlX3RpbWVfc2luZ2xlKk1hdGguY29zKG9tZWdhX3RpbWVfc2luZ2xlKnRfdGltZV9zaW5nbGUgKyBwaGFzZV90aW1lX3NpbmdsZSksXG4gIGltYWdpbmFyeTogbWFnbml0dWRlX3RpbWVfc2luZ2xlKk1hdGguc2luKG9tZWdhX3RpbWVfc2luZ2xlKnRfdGltZV9zaW5nbGUgKyBwaGFzZV90aW1lX3NpbmdsZSl9LFxuXVxucGhhc29yX3BoYXNlX3RpbWVfc2luZ2xlID0gW1xuICB7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSxcbiAge3JlYWw6IHBoYXNvcl90aW1lX3NpbmdsZVswXS5yZWFsLFxuICBpbWFnaW5hcnk6IHBoYXNvcl90aW1lX3NpbmdsZVswXS5pbWFnaW5hcnl9LFxuXVxucGhhc29yX3NwYWNlX3RpbWVfc2luZ2xlID0gW1xuICB7c3BhY2U6IDAsIGFtcGxpdHVkZTogcGhhc29yX3RpbWVfc2luZ2xlWzBdLnJlYWx9LFxuICB7c3BhY2U6IDEwLCBhbXBsaXR1ZGU6IHBoYXNvcl90aW1lX3NpbmdsZVswXS5yZWFsfSxcbl1cblxue1xuICBjb25zdCBwaGFzZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJSZWFsXCIsXG4gICAgICBkb21haW46IFstMiwgMl0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJJbWFnaW5hcnlcIixcbiAgICAgIGRvbWFpbjogWy0yLCAyXSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmRvdChwaGFzb3JfdGltZV9zaW5nbGUsIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIn0pLFxuICAgICAgUGxvdC5saW5lKHBoYXNvcl9waGFzZV90aW1lX3NpbmdsZSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG4gICAgICBQbG90LmxpbmUoXG4gICAgICAgIHBoYXNvcl9waGFzZV90aW1lX3NpbmdsZS5tYXAoZCA9PiAoe3JlYWw6IGQucmVhbCwgaW1hZ2luYXJ5OiBwaGFzb3JfdGltZV9zaW5nbGVbMF0uaW1hZ2luYXJ5fSkpLFxuICAgICAgICB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fVxuICAgICAgKSxcbiAgICBdLFxuICB9KVxuXG4gIGNvbnN0IHNwYWNlX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlNwYWNlXCIsXG4gICAgICBkb21haW46IFswLCAxMF0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJBbXBsaXR1ZGVcIixcbiAgICAgIGRvbWFpbjogWy0yLCAyXSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgICAgUGxvdC5saW5lKFxuICAgICAgICBwaGFzb3JfcGhhc2VfdGltZV9zaW5nbGUubWFwKGQgPT4gKHtzcGFjZTogMCwgYW1wbGl0dWRlOiBkLnJlYWx9KSksXG4gICAgICAgIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgICBQbG90LmRvdChwaGFzb3JfdGltZV9zaW5nbGUubWFwKGQgPT4gKHtzcGFjZTogMCwgYW1wbGl0dWRlOiBkLnJlYWx9KSksIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCJ9KSxcbiAgICAgIFBsb3QubGluZShwaGFzb3Jfc3BhY2VfdGltZV9zaW5nbGUsIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICBdLFxuICB9KVxuXG4gIHJldHVybiBodG1sYDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGdhcDoyMHB4XCI+XG4gICAgPGgzPiBQaGFzZSBEb21haW5cbiAgICAke3BoYXNlX3Bsb3R9XG4gICAgPGgzPiBTcGFjZSBEb21haW5cbiAgICAke3NwYWNlX3Bsb3R9XG4gIDxcXGRpdj5gXG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbnRpbWVfZHVyYXRpb25fbWF0Y2hfZnJlcSA9IDEwXG50aW1lX2FycmF5X21hdGNoX2ZyZXEgPSBkMy50aWNrcygwLCB0aW1lX2R1cmF0aW9uX21hdGNoX2ZyZXEsIHRpbWVfZHVyYXRpb25fbWF0Y2hfZnJlcSpmcHMpXG5cbnZpZXdvZiB0X21hdGNoX2ZyZXEgPSBTY3J1YmJlcihkMy50aWNrcygwLCB0aW1lX2R1cmF0aW9uX21hdGNoX2ZyZXEsIHRpbWVfZHVyYXRpb25fbWF0Y2hfZnJlcSpmcHMpLCB7XG4gIGF1dG9wbGF5OiBmYWxzZSxcbiAgbG9vcDogdHJ1ZSxcbiAgaW5pdGlhbDogMCxcbiAgZm9ybWF0OiB4ID0+IGB0ID0gJHt4LnRvRml4ZWQoMil9IFtzZWNdYCxcbiAgZGVsYXk6IGR0ICogMTAwMFxufSlcbnZpZXdvZiBvbWVnYV9tYXRjaF9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAuMDEsXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMSxcbiAgICBsYWJlbDogXCJhbmd1bGFyIGZyZXF1ZW5jeVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+JID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL3NlY11cIlxuICB9LFxuKVxudmlld29mIHBoYXNlXzFfbWF0Y2hfZnJlcSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogLjUsXG4gICAgbGFiZWw6IFwicGhhc2Ugc2hpZnRcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPhuKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZGlhbnNdXCJcbiAgfSxcbilcbnZpZXdvZiBtYWduaXR1ZGVfMV9tYXRjaF9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEuNCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG52aWV3b2YgcGhhc2VfMl9tYXRjaF9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAtMC4yLFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4bigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlXzJfbWF0Y2hfZnJlcSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLjgsXG4gICAgbGFiZWw6IFwibWFnbml0dWRlXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiTeKCgiA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21hZ25pdHVkZV1cIlxuICB9LFxuKVxuXG5mdW5jdGlvbiBjYWxjdWxhdGVQaGFzb3IoYW5nbGUsIHBvc19hbmdsZSwgbWFnbml0dWRlLCBwaGFzZV9zaGlmdCkge1xuICByZXR1cm4ge1xuICAgIHJlYWw6IG1hZ25pdHVkZSAqIE1hdGguY29zKGFuZ2xlICsgcG9zX2FuZ2xlICsgcGhhc2Vfc2hpZnQpLFxuICAgIGltYWdpbmFyeTogbWFnbml0dWRlICogTWF0aC5zaW4oYW5nbGUgKyBwb3NfYW5nbGUgKyBwaGFzZV9zaGlmdClcbiAgfVxufVxuXG5wb2ludHNfdGltZV9tYXRjaF9mcmVxID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogdGltZV9hcnJheV9tYXRjaF9mcmVxLmxlbmd0aH0sIChfLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWU6IHRpbWVfYXJyYXlfbWF0Y2hfZnJlcVtpXSxcbiAgICAgIGFtcGxpdHVkZTogY2FsY3VsYXRlUGhhc29yKG9tZWdhX21hdGNoX2ZyZXEgKiB0aW1lX2FycmF5X21hdGNoX2ZyZXFbaV0sIDAsIG1hZ25pdHVkZV8xX21hdGNoX2ZyZXEsIHBoYXNlXzFfbWF0Y2hfZnJlcSkucmVhbCArIFxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9tYXRjaF9mcmVxICogdGltZV9hcnJheV9tYXRjaF9mcmVxW2ldLCAwLCBtYWduaXR1ZGVfMl9tYXRjaF9mcmVxLCBwaGFzZV8yX21hdGNoX2ZyZXEpLnJlYWxcbiAgICB9XG4gIH1cbilcblxucG9pbnRfMV9tYXRjaF9mcmVxID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhX21hdGNoX2ZyZXEqdF9tYXRjaF9mcmVxLCAwLCBtYWduaXR1ZGVfMV9tYXRjaF9mcmVxLCBwaGFzZV8xX21hdGNoX2ZyZXEpXG5wb2ludF8yX21hdGNoX2ZyZXEgPSBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfbWF0Y2hfZnJlcSp0X21hdGNoX2ZyZXEsIDAsIG1hZ25pdHVkZV8yX21hdGNoX2ZyZXEsIHBoYXNlXzJfbWF0Y2hfZnJlcSlcbnBvaW50X3N1bV9tYXRjaF9mcmVxID0gW3tcbiAgcmVhbDogcG9pbnRfMV9tYXRjaF9mcmVxLnJlYWwgKyBwb2ludF8yX21hdGNoX2ZyZXEucmVhbCxcbiAgaW1hZ2luYXJ5OiBwb2ludF8xX21hdGNoX2ZyZXEuaW1hZ2luYXJ5ICsgcG9pbnRfMl9tYXRjaF9mcmVxLmltYWdpbmFyeVxufV1cblxue1xuICBjb25zdCBwaGFzZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJSZWFsXCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJJbWFnaW5hcnlcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LCBwb2ludF8xX21hdGNoX2ZyZXFdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSwgcG9pbnRfMl9tYXRjaF9mcmVxXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwib3JhbmdlXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3BvaW50XzFfbWF0Y2hfZnJlcSwgcG9pbnRfc3VtX21hdGNoX2ZyZXFbMF0sIHBvaW50XzJfbWF0Y2hfZnJlcV0sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcG9pbnRfc3VtX21hdGNoX2ZyZXFbMF0uaW1hZ2luYXJ5fSwgcG9pbnRfc3VtX21hdGNoX2ZyZXFbMF1dLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgICBQbG90LmRvdChwb2ludF9zdW1fbWF0Y2hfZnJlcSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG4gICAgXSxcbiAgfSlcblxuICBjb25zdCB0aW1lX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlRpbWVcIixcbiAgICAgIGRvbWFpbjogWzAsIHRpbWVfZHVyYXRpb25fbWF0Y2hfZnJlcV0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJBbXBsaXR1ZGVcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmxpbmUoW3t0aW1lOiB0X21hdGNoX2ZyZXEsIGFtcGxpdHVkZTogMH0sIHt0aW1lOiB0X21hdGNoX2ZyZXEsIGFtcGxpdHVkZTogcG9pbnRfc3VtX21hdGNoX2ZyZXFbMF0ucmVhbH1dLCB7eDogXCJ0aW1lXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgICBQbG90LmxpbmUocG9pbnRzX3RpbWVfbWF0Y2hfZnJlcSwge3g6IFwidGltZVwiLCB5OiBcImFtcGxpdHVkZVwiLCBzdHJva2U6IFwicmVkXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmRvdChbe3RpbWU6IHRfbWF0Y2hfZnJlcSwgYW1wbGl0dWRlOiBwb2ludF9zdW1fbWF0Y2hfZnJlcVswXS5yZWFsfV0sIHt4OiBcInRpbWVcIiwgeTogXCJhbXBsaXR1ZGVcIn0pLFxuICAgIF0sXG4gIH0pXG5cbiAgcmV0dXJuIGh0bWxgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHhcIj5cbiAgICA8aDM+IFBoYXNlIERvbWFpblxuICAgICR7cGhhc2VfcGxvdH1cbiAgICA8aDM+IFRpbWUgRG9tYWluXG4gICAgJHt0aW1lX3Bsb3R9XG4gIDxcXGRpdj5gXG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbnRpbWVfZHVyYXRpb25fZGlmZl9mcmVxID0gMzBcbnRpbWVfYXJyYXlfZGlmZl9mcmVxID0gZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl9kaWZmX2ZyZXEsIHRpbWVfZHVyYXRpb25fZGlmZl9mcmVxKmZwcylcblxudmlld29mIHRfZGlmZl9mcmVxID0gU2NydWJiZXIoZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl9kaWZmX2ZyZXEsIHRpbWVfZHVyYXRpb25fZGlmZl9mcmVxKmZwcyksIHtcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBsb29wOiB0cnVlLFxuICBpbml0aWFsOiAwLFxuICBmb3JtYXQ6IHggPT4gYHQgPSAke3gudG9GaXhlZCgyKX0gW3NlY11gLFxuICBkZWxheTogZHQgKiAxMDAwXG59KVxudmlld29mIG9tZWdhXzFfZGlmZl9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAuMDEsXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMSxcbiAgICBsYWJlbDogXCJhbmd1bGFyIGZyZXF1ZW5jeVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+J4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL3NlY11cIlxuICB9LFxuKVxudmlld29mIHBoYXNlXzFfZGlmZl9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAuNSxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+G4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8xX2RpZmZfZnJlcSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLjQsXG4gICAgbGFiZWw6IFwibWFnbml0dWRlXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiTeKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21hZ25pdHVkZV1cIlxuICB9LFxuKVxudmlld29mIG9tZWdhXzJfZGlmZl9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAuMDEsXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMyxcbiAgICBsYWJlbDogXCJhbmd1bGFyIGZyZXF1ZW5jeVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+J4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL3NlY11cIlxuICB9LFxuKVxudmlld29mIHBoYXNlXzJfZGlmZl9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAtMC4yLFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4bigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlXzJfZGlmZl9mcmVxID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuOCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG5cbnBvaW50c190aW1lX2RpZmZfZnJlcSA9IEFycmF5LmZyb20oXG4gIHtsZW5ndGg6IHRpbWVfYXJyYXlfZGlmZl9mcmVxLmxlbmd0aH0sIChfLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRpbWU6IHRpbWVfYXJyYXlfZGlmZl9mcmVxW2ldLFxuICAgICAgYW1wbGl0dWRlOiBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfMV9kaWZmX2ZyZXEgKiB0aW1lX2FycmF5X2RpZmZfZnJlcVtpXSwgMCwgbWFnbml0dWRlXzFfZGlmZl9mcmVxLCBwaGFzZV8xX2RpZmZfZnJlcSkucmVhbCArIFxuICAgICAgICAgICAgICAgIGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8yX2RpZmZfZnJlcSAqIHRpbWVfYXJyYXlfZGlmZl9mcmVxW2ldLCAwLCBtYWduaXR1ZGVfMl9kaWZmX2ZyZXEsIHBoYXNlXzJfZGlmZl9mcmVxKS5yZWFsXG4gICAgfVxuICB9XG4pXG5cbnBvaW50XzFfZGlmZl9mcmVxID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhXzFfZGlmZl9mcmVxKnRfZGlmZl9mcmVxLCAwLCBtYWduaXR1ZGVfMV9kaWZmX2ZyZXEsIHBoYXNlXzFfZGlmZl9mcmVxKVxucG9pbnRfMl9kaWZmX2ZyZXEgPSBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfMl9kaWZmX2ZyZXEqdF9kaWZmX2ZyZXEsIDAsIG1hZ25pdHVkZV8yX2RpZmZfZnJlcSwgcGhhc2VfMl9kaWZmX2ZyZXEpXG5wb2ludF9zdW1fZGlmZl9mcmVxID0gW3tcbiAgcmVhbDogcG9pbnRfMV9kaWZmX2ZyZXEucmVhbCArIHBvaW50XzJfZGlmZl9mcmVxLnJlYWwsXG4gIGltYWdpbmFyeTogcG9pbnRfMV9kaWZmX2ZyZXEuaW1hZ2luYXJ5ICsgcG9pbnRfMl9kaWZmX2ZyZXEuaW1hZ2luYXJ5XG59XVxuXG57XG4gIGNvbnN0IHBoYXNlX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlJlYWxcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkltYWdpbmFyeVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogMH0sIHBvaW50XzFfZGlmZl9mcmVxXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiZ3JlZW5cIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogMH0sIHBvaW50XzJfZGlmZl9mcmVxXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwib3JhbmdlXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3BvaW50XzFfZGlmZl9mcmVxLCBwb2ludF9zdW1fZGlmZl9mcmVxWzBdLCBwb2ludF8yX2RpZmZfZnJlcV0sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcG9pbnRfc3VtX2RpZmZfZnJlcVswXS5pbWFnaW5hcnl9LCBwb2ludF9zdW1fZGlmZl9mcmVxWzBdXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5kb3QocG9pbnRfc3VtX2RpZmZfZnJlcSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG4gICAgXSxcbiAgfSlcblxuICBjb25zdCB0aW1lX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlRpbWVcIixcbiAgICAgIGRvbWFpbjogWzAsIHRpbWVfZHVyYXRpb25fZGlmZl9mcmVxXSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkFtcGxpdHVkZVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3RpbWU6IHRfZGlmZl9mcmVxLCBhbXBsaXR1ZGU6IDB9LCB7dGltZTogdF9kaWZmX2ZyZXEsIGFtcGxpdHVkZTogcG9pbnRfc3VtX2RpZmZfZnJlcVswXS5yZWFsfV0sIHt4OiBcInRpbWVcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QubGluZShwb2ludHNfdGltZV9kaWZmX2ZyZXEsIHt4OiBcInRpbWVcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5kb3QoW3t0aW1lOiB0X2RpZmZfZnJlcSwgYW1wbGl0dWRlOiBwb2ludF9zdW1fZGlmZl9mcmVxWzBdLnJlYWx9XSwge3g6IFwidGltZVwiLCB5OiBcImFtcGxpdHVkZVwifSksXG4gICAgXSxcbiAgfSlcblxuICByZXR1cm4gaHRtbGA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBnYXA6MjBweFwiPlxuICAgIDxoMz4gUGhhc2UgRG9tYWluXG4gICAgJHtwaGFzZV9wbG90fVxuICAgIDxoMz4gVGltZSBEb21haW5cbiAgICAke3RpbWVfcGxvdH1cbiAgPFxcZGl2PmBcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6InZpZXdvZiB0aW1lX3F1YWQgPSBTY3J1YmJlcihBcnJheS5mcm9tKHtsZW5ndGg6IDEwMX0sIChfLCBpKSA9PiBpIC8gMTApLFxuICB7XG4gICAgYXV0b3BsYXk6IGZhbHNlLFxuICAgIGxvb3A6IGZhbHNlLFxuICAgIGluaXRpYWw6IDAsXG4gICAgZm9ybWF0OiB2ID0+IFwidCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3NlY11cIixcbiAgfSxcbilcblxucXVhZF9mdW5jID0geCA9PiAodGltZV9xdWFkIC0geCkqKjJcbnF1YWRfcG9pbnRzID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogNTB9LCAoXywgaSkgPT4ge1xuICAgIGNvbnN0IHggPSBpIC8gNDkgKiAxMFxuICAgIHJldHVybiB7eTogcXVhZF9mdW5jKHgpLCB4OiB4fVxuICB9XG4pXG5cblBsb3QucGxvdCh7XG4gIHg6IHtcbiAgICBsYWJlbDogXCJTcGFjZVwiLFxuICAgIGRvbWFpbjogWzAsIDEwXSxcbiAgfSxcbiAgeToge1xuICAgIGxhYmVsOiBcIkFtcGxpdHVkZVwiLFxuICAgIGRvbWFpbjogWy0xLCA0XSxcbiAgfSxcbiAgcmF0aW86IDEsXG4gIHdpZHRoOiA0MDAsXG4gIG1hcmtzOiBbXG4gICAgUGxvdC5saW5lKHF1YWRfcG9pbnRzLCB7eDogXCJ4XCIsIHk6IFwieVwifSksXG4gICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICBdLFxufSlcbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxudGltZV9kdXJhdGlvbl9zcGFjZXRpbWUgPSAxMFxuc3BhY2VfZGlzdF9zcGFjZXRpbWUgPSAxMFxuc3BhY2VfYXJyYXlfc3BhY2V0aW1lID0gZDMudGlja3MoMCwgc3BhY2VfZGlzdF9zcGFjZXRpbWUsIHNwYWNlX2Rpc3Rfc3BhY2V0aW1lKmZwcylcblxudmlld29mIHRfc3BhY2V0aW1lID0gU2NydWJiZXIoZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl9zcGFjZXRpbWUsIHRpbWVfZHVyYXRpb25fc3BhY2V0aW1lKmZwcyksIHtcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBsb29wOiB0cnVlLFxuICBpbml0aWFsOiAwLFxuICBmb3JtYXQ6IHggPT4gYHQgPSAke3gudG9GaXhlZCgyKX0gW3NlY11gLFxuICBkZWxheTogZHQgKiAxMDAwXG59KVxudmlld29mIHhfc3BhY2V0aW1lID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogc3BhY2VfZGlzdF9zcGFjZXRpbWUsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwieCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21ldGVyc11cIlxuICB9LFxuKVxudmlld29mIG9tZWdhX3NwYWNldGltZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPiSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBrX3NwYWNldGltZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMC4wMSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiayA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9tZXRlcl1cIlxuICB9LFxuKVxudmlld29mIHBoYXNlX3NwYWNldGltZSA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMCxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+GID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV9zcGFjZXRpbWUgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMSxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJNID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG5cbnBvaW50c19zcGFjZV9zcGFjZXRpbWUgPSBBcnJheS5mcm9tKFxuICB7bGVuZ3RoOiBzcGFjZV9hcnJheV9zcGFjZXRpbWUubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BhY2U6IHNwYWNlX2FycmF5X3NwYWNldGltZVtpXSxcbiAgICAgIGFtcGxpdHVkZTogY2FsY3VsYXRlUGhhc29yKG9tZWdhX3NwYWNldGltZSAqIHRfc3BhY2V0aW1lLCBrX3NwYWNldGltZSAqIHNwYWNlX2FycmF5X3NwYWNldGltZVtpXSwgbWFnbml0dWRlX3NwYWNldGltZSwgcGhhc2Vfc3BhY2V0aW1lKS5yZWFsXG4gICAgfVxuICB9XG4pXG5cbnBoYXNvcl9zcGFjZXRpbWUgPSBbY2FsY3VsYXRlUGhhc29yKG9tZWdhX3NwYWNldGltZSAqIHRfc3BhY2V0aW1lLCBrX3NwYWNldGltZSAqIHhfc3BhY2V0aW1lLCBtYWduaXR1ZGVfc3BhY2V0aW1lLCBwaGFzZV9zcGFjZXRpbWUpXVxuXG57XG4gIGNvbnN0IHBoYXNlX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlJlYWxcIixcbiAgICAgIGRvbWFpbjogWy0yLCAyXSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkltYWdpbmFyeVwiLFxuICAgICAgZG9tYWluOiBbLTIsIDJdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogMH0sIHBoYXNvcl9zcGFjZXRpbWVbMF1dLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcGhhc29yX3NwYWNldGltZVswXS5pbWFnaW5hcnl9LCBwaGFzb3Jfc3BhY2V0aW1lWzBdXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5kb3QocGhhc29yX3NwYWNldGltZSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG4gICAgXSxcbiAgfSlcblxuICBjb25zdCBzcGFjZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJTcGFjZVwiLFxuICAgICAgZG9tYWluOiBbMCwgMTBdLFxuICAgIH0sXG4gICAgeToge1xuICAgICAgbGFiZWw6IFwiQW1wbGl0dWRlXCIsXG4gICAgICBkb21haW46IFstMiwgMl0sXG4gICAgfSxcbiAgICByYXRpbzogMSxcbiAgICB3aWR0aDogNDAwLFxuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LnJ1bGVZKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcblxuICAgICAgUGxvdC5saW5lKFt7c3BhY2U6IHhfc3BhY2V0aW1lLCBhbXBsaXR1ZGU6IDB9LCB7c3BhY2U6IHhfc3BhY2V0aW1lLCBhbXBsaXR1ZGU6IHBoYXNvcl9zcGFjZXRpbWVbMF0ucmVhbH1dLFxuICAgICAgICB7eDogXCJzcGFjZVwiLCB5OiBcImFtcGxpdHVkZVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5saW5lKHBvaW50c19zcGFjZV9zcGFjZXRpbWUsIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QuZG90KFt7c3BhY2U6IHhfc3BhY2V0aW1lLCBhbXBsaXR1ZGU6IHBoYXNvcl9zcGFjZXRpbWVbMF0ucmVhbH1dLCB7eDogXCJzcGFjZVwiLCB5OiBcImFtcGxpdHVkZVwifSksXG4gICAgXSxcbiAgfSlcblxuICByZXR1cm4gaHRtbGA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBnYXA6MjBweFwiPlxuICAgIDxoMz4gUGhhc2UgRG9tYWluXG4gICAgJHtwaGFzZV9wbG90fVxuICAgIDxoMz4gU3BhY2UgRG9tYWluXG4gICAgJHtzcGFjZV9wbG90fVxuICA8XFxkaXY+YFxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC04IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoiXG50aW1lX2R1cmF0aW9uX3NhbWVvX3NhbWVrID0gMTBcbnNwYWNlX2Rpc3Rfc2FtZW9fc2FtZWsgPSAxMFxuc3BhY2VfYXJyYXlfc2FtZW9fc2FtZWsgPSBkMy50aWNrcygwLCBzcGFjZV9kaXN0X3NhbWVvX3NhbWVrLCBzcGFjZV9kaXN0X3NhbWVvX3NhbWVrKmZwcylcblxudmlld29mIHRfc2FtZW9fc2FtZWsgPSBTY3J1YmJlcihkMy50aWNrcygwLCB0aW1lX2R1cmF0aW9uX3NhbWVvX3NhbWVrLCB0aW1lX2R1cmF0aW9uX3NhbWVvX3NhbWVrKmZwcyksIHtcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBsb29wOiB0cnVlLFxuICBpbml0aWFsOiAwLFxuICBmb3JtYXQ6IHggPT4gYHQgPSAke3gudG9GaXhlZCgyKX0gW3NlY11gLFxuICBkZWxheTogZHQgKiAxMDAwXG59KVxudmlld29mIHhfc2FtZW9fc2FtZWsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiBzcGFjZV9kaXN0X3NhbWVvX3NhbWVrLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMCxcbiAgICBsYWJlbDogXCJwb3NpdGlvblwiLFxuICAgIGZvcm1hdDogdiA9PiBcInggPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttZXRlcnNdXCJcbiAgfSxcbilcbnZpZXdvZiBvbWVnYV9zYW1lb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPiSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBrX3NhbWVvX3NhbWVrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwicG9zaXRpb25cIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJrID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL21ldGVyXVwiXG4gIH0sXG4pXG52aWV3b2YgcGhhc2VfMV9zYW1lb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMC41LFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4bigoEgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlXzFfc2FtZW9fc2FtZWsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMS40LFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk3igoEgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV8yX3NhbWVvX3NhbWVrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAtMC4yLFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4bigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlXzJfc2FtZW9fc2FtZWsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMC44LFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk3igoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcblxucG9pbnRzX3NwYWNlX3NhbWVvX3NhbWVrID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogc3BhY2VfYXJyYXlfc2FtZW9fc2FtZWsubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BhY2U6IHNwYWNlX2FycmF5X3NhbWVvX3NhbWVrW2ldLFxuICAgICAgYW1wbGl0dWRlOiBjYWxjdWxhdGVQaGFzb3Iob21lZ2Ffc2FtZW9fc2FtZWsgKiB0X3NhbWVvX3NhbWVrLCBrX3NhbWVvX3NhbWVrICogc3BhY2VfYXJyYXlfc2FtZW9fc2FtZWtbaV0sIG1hZ25pdHVkZV8xX3NhbWVvX3NhbWVrLCBwaGFzZV8xX3NhbWVvX3NhbWVrKS5yZWFsICsgXG4gICAgICAgIGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19zYW1layAqIHRfc2FtZW9fc2FtZWssIGtfc2FtZW9fc2FtZWsgKiBzcGFjZV9hcnJheV9zYW1lb19zYW1la1tpXSwgbWFnbml0dWRlXzJfc2FtZW9fc2FtZWssIHBoYXNlXzJfc2FtZW9fc2FtZWspLnJlYWxcbiAgICB9XG4gIH1cbilcblxucG9pbnRfMV9zYW1lb19zYW1layA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19zYW1layp0X3NhbWVvX3NhbWVrLCBrX3NhbWVvX3NhbWVrICogeF9zYW1lb19zYW1laywgbWFnbml0dWRlXzFfc2FtZW9fc2FtZWssIHBoYXNlXzFfc2FtZW9fc2FtZWspXG5wb2ludF8yX3NhbWVvX3NhbWVrID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhX3NhbWVvX3NhbWVrKnRfc2FtZW9fc2FtZWssIGtfc2FtZW9fc2FtZWsgKiB4X3NhbWVvX3NhbWVrLCBtYWduaXR1ZGVfMl9zYW1lb19zYW1laywgcGhhc2VfMl9zYW1lb19zYW1laylcbnBoYXNvcl9zYW1lb19zYW1layA9IFtcbiAge1xuICAgIHJlYWw6IHBvaW50XzFfc2FtZW9fc2FtZWsucmVhbCArIHBvaW50XzJfc2FtZW9fc2FtZWsucmVhbCxcbiAgICBpbWFnaW5hcnk6IHBvaW50XzFfc2FtZW9fc2FtZWsuaW1hZ2luYXJ5ICsgcG9pbnRfMl9zYW1lb19zYW1lay5pbWFnaW5hcnlcbiAgfVxuXVxuXG57XG4gIGNvbnN0IHBoYXNlX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlJlYWxcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkltYWdpbmFyeVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogMH0sIHBvaW50XzFfc2FtZW9fc2FtZWtdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSwgcG9pbnRfMl9zYW1lb19zYW1la10sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcIm9yYW5nZVwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5lKFtwb2ludF8xX3NhbWVvX3NhbWVrLCBwaGFzb3Jfc2FtZW9fc2FtZWtbMF0sIHBvaW50XzJfc2FtZW9fc2FtZWtdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IHBoYXNvcl9zYW1lb19zYW1la1swXS5pbWFnaW5hcnl9LCBwaGFzb3Jfc2FtZW9fc2FtZWtbMF1dLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgICBQbG90LmRvdChwaGFzb3Jfc2FtZW9fc2FtZWssIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIn0pLFxuICAgIF0sXG4gIH0pXG5cbiAgY29uc3Qgc3BhY2VfcGxvdCA9IFBsb3QucGxvdCh7XG4gICAgeDoge1xuICAgICAgbGFiZWw6IFwiU3BhY2VcIixcbiAgICAgIGRvbWFpbjogWzAsIDEwXSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkFtcGxpdHVkZVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3NwYWNlOiB4X3NhbWVvX3NhbWVrLCBhbXBsaXR1ZGU6IDB9LCB7c3BhY2U6IHhfc2FtZW9fc2FtZWssIGFtcGxpdHVkZTogcGhhc29yX3NhbWVvX3NhbWVrWzBdLnJlYWx9XSxcbiAgICAgICAge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QubGluZShwb2ludHNfc3BhY2Vfc2FtZW9fc2FtZWssIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QuZG90KFt7c3BhY2U6IHhfc2FtZW9fc2FtZWssIGFtcGxpdHVkZTogcGhhc29yX3NhbWVvX3NhbWVrWzBdLnJlYWx9XSwge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIn0pLFxuICAgIF0sXG4gIH0pXG5cbiAgcmV0dXJuIGh0bWxgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHhcIj5cbiAgICA8aDM+IFBoYXNlIERvbWFpblxuICAgICR7cGhhc2VfcGxvdH1cbiAgICA8aDM+IFNwYWNlIERvbWFpblxuICAgICR7c3BhY2VfcGxvdH1cbiAgPFxcZGl2PmBcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtOSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxudGltZV9kdXJhdGlvbl9zYW1lb19kaWZmayA9IDEwXG5zcGFjZV9kaXN0X3NhbWVvX2RpZmZrID0gMTBcbnNwYWNlX2FycmF5X3NhbWVvX2RpZmZrID0gZDMudGlja3MoMCwgc3BhY2VfZGlzdF9zYW1lb19kaWZmaywgc3BhY2VfZGlzdF9zYW1lb19kaWZmaypmcHMpXG5cbnZpZXdvZiB0X3NhbWVvX2RpZmZrID0gU2NydWJiZXIoZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl9zYW1lb19kaWZmaywgdGltZV9kdXJhdGlvbl9zYW1lb19kaWZmaypmcHMpLCB7XG4gIGF1dG9wbGF5OiBmYWxzZSxcbiAgbG9vcDogdHJ1ZSxcbiAgaW5pdGlhbDogMCxcbiAgZm9ybWF0OiB4ID0+IGB0ID0gJHt4LnRvRml4ZWQoMil9IFtzZWNdYCxcbiAgZGVsYXk6IGR0ICogMTAwMFxufSlcbnZpZXdvZiB4X3NhbWVvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogc3BhY2VfZGlzdF9zYW1lb19kaWZmayxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAsXG4gICAgbGFiZWw6IFwicG9zaXRpb25cIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJ4ID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWV0ZXJzXVwiXG4gIH0sXG4pXG52aWV3b2Ygb21lZ2Ffc2FtZW9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC4wMSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcImFuZ3VsYXIgZnJlcXVlbmN5XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4kgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvc2VjXVwiXG4gIH0sXG4pXG52aWV3b2Yga18xX3NhbWVvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtNCxcbiAgICBtYXg6IDQsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAyLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwia+KCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9tZXRlcl1cIlxuICB9LFxuKVxudmlld29mIHBoYXNlXzFfc2FtZW9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC1NYXRoLlBJLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuNSxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+G4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8xX3NhbWVvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEuNCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG52aWV3b2Yga18yX3NhbWVvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtNCxcbiAgICBtYXg6IDQsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLjUsXG4gICAgbGFiZWw6IFwicG9zaXRpb25cIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJr4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL21ldGVyXVwiXG4gIH0sXG4pXG52aWV3b2YgcGhhc2VfMl9zYW1lb19kaWZmayA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogLTAuMixcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+G4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8yX3NhbWVvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuOCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG5cbnBvaW50c19zcGFjZV9zYW1lb19kaWZmayA9IEFycmF5LmZyb20oXG4gIHtsZW5ndGg6IHNwYWNlX2FycmF5X3NhbWVvX2RpZmZrLmxlbmd0aH0sIChfLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwYWNlOiBzcGFjZV9hcnJheV9zYW1lb19kaWZma1tpXSxcbiAgICAgIGFtcGxpdHVkZTogY2FsY3VsYXRlUGhhc29yKG9tZWdhX3NhbWVvX2RpZmZrICogdF9zYW1lb19kaWZmaywga18xX3NhbWVvX2RpZmZrICogc3BhY2VfYXJyYXlfc2FtZW9fZGlmZmtbaV0sIG1hZ25pdHVkZV8xX3NhbWVvX2RpZmZrLCBwaGFzZV8xX3NhbWVvX2RpZmZrKS5yZWFsICsgXG4gICAgICAgIGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19kaWZmayAqIHRfc2FtZW9fZGlmZmssIGtfMl9zYW1lb19kaWZmayAqIHNwYWNlX2FycmF5X3NhbWVvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMl9zYW1lb19kaWZmaywgcGhhc2VfMl9zYW1lb19kaWZmaykucmVhbFxuICAgIH1cbiAgfVxuKVxuXG5wb2ludF8xX3NhbWVvX2RpZmZrID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhX3NhbWVvX2RpZmZrKnRfc2FtZW9fZGlmZmssIGtfMV9zYW1lb19kaWZmayAqIHhfc2FtZW9fZGlmZmssIG1hZ25pdHVkZV8xX3NhbWVvX2RpZmZrLCBwaGFzZV8xX3NhbWVvX2RpZmZrKVxucG9pbnRfMl9zYW1lb19kaWZmayA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19kaWZmayp0X3NhbWVvX2RpZmZrLCBrXzJfc2FtZW9fZGlmZmsgKiB4X3NhbWVvX2RpZmZrLCBtYWduaXR1ZGVfMl9zYW1lb19kaWZmaywgcGhhc2VfMl9zYW1lb19kaWZmaylcbnBoYXNvcl9zYW1lb19kaWZmayA9IFtcbiAge1xuICAgIHJlYWw6IHBvaW50XzFfc2FtZW9fZGlmZmsucmVhbCArIHBvaW50XzJfc2FtZW9fZGlmZmsucmVhbCxcbiAgICBpbWFnaW5hcnk6IHBvaW50XzFfc2FtZW9fZGlmZmsuaW1hZ2luYXJ5ICsgcG9pbnRfMl9zYW1lb19kaWZmay5pbWFnaW5hcnlcbiAgfVxuXVxucGhhc29yX2xvY3VzX3NhbWVvX2RpZmZrID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogc3BhY2VfYXJyYXlfc2FtZW9fZGlmZmsubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICBjb25zdCBwaGFzb3JfMV9zYW1lb19kaWZmayA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19kaWZmayAqIHRfc2FtZW9fZGlmZmssIGtfMV9zYW1lb19kaWZmayAqIHNwYWNlX2FycmF5X3NhbWVvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMV9zYW1lb19kaWZmaywgcGhhc2VfMV9zYW1lb19kaWZmaylcbiAgICBjb25zdCBwaGFzb3JfMl9zYW1lb19kaWZmayA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9zYW1lb19kaWZmayAqIHRfc2FtZW9fZGlmZmssIGtfMl9zYW1lb19kaWZmayAqIHNwYWNlX2FycmF5X3NhbWVvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMl9zYW1lb19kaWZmaywgcGhhc2VfMl9zYW1lb19kaWZmaylcblxuICAgIHJldHVybiB7XG4gICAgICByZWFsOiBwaGFzb3JfMV9zYW1lb19kaWZmay5yZWFsICsgcGhhc29yXzJfc2FtZW9fZGlmZmsucmVhbCxcbiAgICAgIGltYWdpbmFyeTogcGhhc29yXzFfc2FtZW9fZGlmZmsuaW1hZ2luYXJ5ICsgcGhhc29yXzJfc2FtZW9fZGlmZmsuaW1hZ2luYXJ5XG4gICAgfVxuICB9XG4pXG5cbntcbiAgY29uc3QgcGhhc2VfcGxvdCA9IFBsb3QucGxvdCh7XG4gICAgeDoge1xuICAgICAgbGFiZWw6IFwiUmVhbFwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgeToge1xuICAgICAgbGFiZWw6IFwiSW1hZ2luYXJ5XCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICByYXRpbzogMSxcbiAgICB3aWR0aDogNDAwLFxuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LnJ1bGVZKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcblxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSwgcG9pbnRfMV9zYW1lb19kaWZma10sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcImdyZWVuXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LCBwb2ludF8yX3NhbWVvX2RpZmZrXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwib3JhbmdlXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3BvaW50XzFfc2FtZW9fZGlmZmssIHBoYXNvcl9zYW1lb19kaWZma1swXSwgcG9pbnRfMl9zYW1lb19kaWZma10sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcGhhc29yX3NhbWVvX2RpZmZrWzBdLmltYWdpbmFyeX0sIHBoYXNvcl9zYW1lb19kaWZma1swXV0sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QuZG90KHBoYXNvcl9zYW1lb19kaWZmaywge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG5cbiAgICAgIFBsb3QubGluZShwaGFzb3JfbG9jdXNfc2FtZW9fZGlmZmssIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcInB1cnBsZVwiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgIF0sXG4gIH0pXG5cbiAgY29uc3Qgc3BhY2VfcGxvdCA9IFBsb3QucGxvdCh7XG4gICAgeDoge1xuICAgICAgbGFiZWw6IFwiU3BhY2VcIixcbiAgICAgIGRvbWFpbjogWzAsIDEwXSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkFtcGxpdHVkZVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3NwYWNlOiB4X3NhbWVvX2RpZmZrLCBhbXBsaXR1ZGU6IDB9LCB7c3BhY2U6IHhfc2FtZW9fZGlmZmssIGFtcGxpdHVkZTogcGhhc29yX3NhbWVvX2RpZmZrWzBdLnJlYWx9XSxcbiAgICAgICAge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QubGluZShwb2ludHNfc3BhY2Vfc2FtZW9fZGlmZmssIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QuZG90KFt7c3BhY2U6IHhfc2FtZW9fZGlmZmssIGFtcGxpdHVkZTogcGhhc29yX3NhbWVvX2RpZmZrWzBdLnJlYWx9XSwge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIn0pLFxuICAgIF0sXG4gIH0pXG5cbiAgcmV0dXJuIGh0bWxgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHhcIj5cbiAgICA8aDM+IFBoYXNlIERvbWFpblxuICAgICR7cGhhc2VfcGxvdH1cbiAgICA8aDM+IFNwYWNlIERvbWFpblxuICAgICR7c3BhY2VfcGxvdH1cbiAgPFxcZGl2PmBcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTAiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbnRpbWVfZHVyYXRpb25fZGlmZm9fc2FtZWsgPSAxMFxuc3BhY2VfZGlzdF9kaWZmb19zYW1layA9IDEwXG5zcGFjZV9hcnJheV9kaWZmb19zYW1layA9IGQzLnRpY2tzKDAsIHNwYWNlX2Rpc3RfZGlmZm9fc2FtZWssIHNwYWNlX2Rpc3RfZGlmZm9fc2FtZWsqZnBzKVxuXG52aWV3b2YgdF9kaWZmb19zYW1layA9IFNjcnViYmVyKGQzLnRpY2tzKDAsIHRpbWVfZHVyYXRpb25fZGlmZm9fc2FtZWssIHRpbWVfZHVyYXRpb25fZGlmZm9fc2FtZWsqZnBzKSwge1xuICBhdXRvcGxheTogZmFsc2UsXG4gIGxvb3A6IHRydWUsXG4gIGluaXRpYWw6IDAsXG4gIGZvcm1hdDogeCA9PiBgdCA9ICR7eC50b0ZpeGVkKDIpfSBbc2VjXWAsXG4gIGRlbGF5OiBkdCAqIDEwMDBcbn0pXG52aWV3b2YgeF9kaWZmb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IHNwYWNlX2Rpc3RfZGlmZm9fc2FtZWssXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwieCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21ldGVyc11cIlxuICB9LFxuKVxudmlld29mIGtfZGlmZm9fc2FtZWsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC00LFxuICAgIG1heDogNCxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDIsXG4gICAgbGFiZWw6IFwicG9zaXRpb25cIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJrID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkL21ldGVyXVwiXG4gIH0sXG4pXG52aWV3b2Ygb21lZ2FfMV9kaWZmb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPieKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV8xX2RpZmZvX3NhbWVrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLjUsXG4gICAgbGFiZWw6IFwicGhhc2Ugc2hpZnRcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPhuKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZGlhbnNdXCJcbiAgfSxcbilcbnZpZXdvZiBtYWduaXR1ZGVfMV9kaWZmb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLjQsXG4gICAgbGFiZWw6IFwibWFnbml0dWRlXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiTeKCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21hZ25pdHVkZV1cIlxuICB9LFxuKVxudmlld29mIG9tZWdhXzJfZGlmZm9fc2FtZWsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC4wMSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAyLFxuICAgIGxhYmVsOiBcImFuZ3VsYXIgZnJlcXVlbmN5XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4nigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvc2VjXVwiXG4gIH0sXG4pXG52aWV3b2YgcGhhc2VfMl9kaWZmb19zYW1layA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLU1hdGguUEksXG4gICAgbWF4OiBNYXRoLlBJLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogLTAuMixcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+G4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8yX2RpZmZvX3NhbWVrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuOCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKCID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG5cbnBvaW50c19zcGFjZV9kaWZmb19zYW1layA9IEFycmF5LmZyb20oXG4gIHtsZW5ndGg6IHNwYWNlX2FycmF5X2RpZmZvX3NhbWVrLmxlbmd0aH0sIChfLCBpKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHNwYWNlOiBzcGFjZV9hcnJheV9kaWZmb19zYW1la1tpXSxcbiAgICAgIGFtcGxpdHVkZTogY2FsY3VsYXRlUGhhc29yKG9tZWdhXzFfZGlmZm9fc2FtZWsgKiB0X2RpZmZvX3NhbWVrLCBrX2RpZmZvX3NhbWVrICogc3BhY2VfYXJyYXlfZGlmZm9fc2FtZWtbaV0sIG1hZ25pdHVkZV8xX2RpZmZvX3NhbWVrLCBwaGFzZV8xX2RpZmZvX3NhbWVrKS5yZWFsICsgXG4gICAgICAgIGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8yX2RpZmZvX3NhbWVrICogdF9kaWZmb19zYW1laywga19kaWZmb19zYW1layAqIHNwYWNlX2FycmF5X2RpZmZvX3NhbWVrW2ldLCBtYWduaXR1ZGVfMl9kaWZmb19zYW1laywgcGhhc2VfMl9kaWZmb19zYW1laykucmVhbFxuICAgIH1cbiAgfVxuKVxuXG5wb2ludF8xX2RpZmZvX3NhbWVrID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhXzFfZGlmZm9fc2FtZWsqdF9kaWZmb19zYW1laywga19kaWZmb19zYW1layAqIHhfZGlmZm9fc2FtZWssIG1hZ25pdHVkZV8xX2RpZmZvX3NhbWVrLCBwaGFzZV8xX2RpZmZvX3NhbWVrKVxucG9pbnRfMl9kaWZmb19zYW1layA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8yX2RpZmZvX3NhbWVrKnRfZGlmZm9fc2FtZWssIGtfZGlmZm9fc2FtZWsgKiB4X2RpZmZvX3NhbWVrLCBtYWduaXR1ZGVfMl9kaWZmb19zYW1laywgcGhhc2VfMl9kaWZmb19zYW1laylcbnBoYXNvcl9kaWZmb19zYW1layA9IFtcbiAge1xuICAgIHJlYWw6IHBvaW50XzFfZGlmZm9fc2FtZWsucmVhbCArIHBvaW50XzJfZGlmZm9fc2FtZWsucmVhbCxcbiAgICBpbWFnaW5hcnk6IHBvaW50XzFfZGlmZm9fc2FtZWsuaW1hZ2luYXJ5ICsgcG9pbnRfMl9kaWZmb19zYW1lay5pbWFnaW5hcnlcbiAgfVxuXVxucGhhc29yX2xvY3VzX2RpZmZvX3NhbWVrID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogc3BhY2VfYXJyYXlfZGlmZm9fc2FtZWsubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICBjb25zdCBwaGFzb3JfMV9kaWZmb19zYW1layA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8xX2RpZmZvX3NhbWVrICogdF9kaWZmb19zYW1laywga19kaWZmb19zYW1layAqIHNwYWNlX2FycmF5X2RpZmZvX3NhbWVrW2ldLCBtYWduaXR1ZGVfMV9kaWZmb19zYW1laywgcGhhc2VfMV9kaWZmb19zYW1laylcbiAgICBjb25zdCBwaGFzb3JfMl9kaWZmb19zYW1layA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8yX2RpZmZvX3NhbWVrICogdF9kaWZmb19zYW1laywga19kaWZmb19zYW1layAqIHNwYWNlX2FycmF5X2RpZmZvX3NhbWVrW2ldLCBtYWduaXR1ZGVfMl9kaWZmb19zYW1laywgcGhhc2VfMl9kaWZmb19zYW1laylcblxuICAgIHJldHVybiB7XG4gICAgICByZWFsOiBwaGFzb3JfMV9kaWZmb19zYW1lay5yZWFsICsgcGhhc29yXzJfZGlmZm9fc2FtZWsucmVhbCxcbiAgICAgIGltYWdpbmFyeTogcGhhc29yXzFfZGlmZm9fc2FtZWsuaW1hZ2luYXJ5ICsgcGhhc29yXzJfZGlmZm9fc2FtZWsuaW1hZ2luYXJ5XG4gICAgfVxuICB9XG4pXG5cbntcbiAgY29uc3QgcGhhc2VfcGxvdCA9IFBsb3QucGxvdCh7XG4gICAgeDoge1xuICAgICAgbGFiZWw6IFwiUmVhbFwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgeToge1xuICAgICAgbGFiZWw6IFwiSW1hZ2luYXJ5XCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICByYXRpbzogMSxcbiAgICB3aWR0aDogNDAwLFxuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LnJ1bGVZKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcblxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSwgcG9pbnRfMV9kaWZmb19zYW1la10sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcImdyZWVuXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LCBwb2ludF8yX2RpZmZvX3NhbWVrXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwib3JhbmdlXCIsIHN0cm9rZVdpZHRoOiAyfSksXG4gICAgICBQbG90LmxpbmUoW3BvaW50XzFfZGlmZm9fc2FtZWssIHBoYXNvcl9kaWZmb19zYW1la1swXSwgcG9pbnRfMl9kaWZmb19zYW1la10sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcGhhc29yX2RpZmZvX3NhbWVrWzBdLmltYWdpbmFyeX0sIHBoYXNvcl9kaWZmb19zYW1la1swXV0sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QuZG90KHBoYXNvcl9kaWZmb19zYW1laywge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG5cbiAgICAgIFBsb3QubGluZShwaGFzb3JfbG9jdXNfZGlmZm9fc2FtZWssIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlOiBcInB1cnBsZVwiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgIF0sXG4gIH0pXG5cbiAgY29uc3Qgc3BhY2VfcGxvdCA9IFBsb3QucGxvdCh7XG4gICAgeDoge1xuICAgICAgbGFiZWw6IFwiU3BhY2VcIixcbiAgICAgIGRvbWFpbjogWzAsIDEwXSxcbiAgICB9LFxuICAgIHk6IHtcbiAgICAgIGxhYmVsOiBcIkFtcGxpdHVkZVwiLFxuICAgICAgZG9tYWluOiBbLTQsIDRdLFxuICAgIH0sXG4gICAgcmF0aW86IDEsXG4gICAgd2lkdGg6IDQwMCxcbiAgICBtYXJrczogW1xuICAgICAgUGxvdC5ydWxlWShbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICAgIFBsb3QucnVsZVgoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG5cbiAgICAgIFBsb3QubGluZShbe3NwYWNlOiB4X2RpZmZvX3NhbWVrLCBhbXBsaXR1ZGU6IDB9LCB7c3BhY2U6IHhfZGlmZm9fc2FtZWssIGFtcGxpdHVkZTogcGhhc29yX2RpZmZvX3NhbWVrWzBdLnJlYWx9XSxcbiAgICAgICAge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcImJsdWVcIiwgc3Ryb2tlV2lkdGg6IDR9KSxcbiAgICAgIFBsb3QubGluZShwb2ludHNfc3BhY2VfZGlmZm9fc2FtZWssIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJyZWRcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QuZG90KFt7c3BhY2U6IHhfZGlmZm9fc2FtZWssIGFtcGxpdHVkZTogcGhhc29yX2RpZmZvX3NhbWVrWzBdLnJlYWx9XSwge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIn0pLFxuICAgIF0sXG4gIH0pXG5cbiAgcmV0dXJuIGh0bWxgPGRpdiBzdHlsZT1cImRpc3BsYXk6ZmxleDsgZ2FwOjIwcHhcIj5cbiAgICA8aDM+IFBoYXNlIERvbWFpblxuICAgICR7cGhhc2VfcGxvdH1cbiAgICA8aDM+IFNwYWNlIERvbWFpblxuICAgICR7c3BhY2VfcGxvdH1cbiAgPFxcZGl2PmBcbn1cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMTEiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbnRpbWVfZHVyYXRpb25fZGlmZm9fZGlmZmsgPSAxMFxuc3BhY2VfZGlzdF9kaWZmb19kaWZmayA9IDEwXG5zcGFjZV9hcnJheV9kaWZmb19kaWZmayA9IGQzLnRpY2tzKDAsIHNwYWNlX2Rpc3RfZGlmZm9fZGlmZmssIHNwYWNlX2Rpc3RfZGlmZm9fZGlmZmsqZnBzKVxuXG52aWV3b2YgdF9kaWZmb19kaWZmayA9IFNjcnViYmVyKGQzLnRpY2tzKDAsIHRpbWVfZHVyYXRpb25fZGlmZm9fZGlmZmssIHRpbWVfZHVyYXRpb25fZGlmZm9fZGlmZmsqZnBzKSwge1xuICBhdXRvcGxheTogZmFsc2UsXG4gIGxvb3A6IHRydWUsXG4gIGluaXRpYWw6IDAsXG4gIGZvcm1hdDogeCA9PiBgdCA9ICR7eC50b0ZpeGVkKDIpfSBbc2VjXWAsXG4gIGRlbGF5OiBkdCAqIDEwMDBcbn0pXG52aWV3b2YgeF9kaWZmb19kaWZmayA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IHNwYWNlX2Rpc3RfZGlmZm9fZGlmZmssXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwieCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21ldGVyc11cIlxuICB9LFxuKVxudmlld29mIG9tZWdhXzFfZGlmZm9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC4wMSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAxLFxuICAgIGxhYmVsOiBcImFuZ3VsYXIgZnJlcXVlbmN5XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4nigoEgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvc2VjXVwiXG4gIH0sXG4pXG52aWV3b2Yga18xX2RpZmZvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtNCxcbiAgICBtYXg6IDQsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAyLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwia+KCgSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9tZXRlcl1cIlxuICB9LFxuKVxudmlld29mIHBoYXNlXzFfZGlmZm9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC1NYXRoLlBJLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuNSxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+G4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV8xX2RpZmZvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogMixcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEuNCxcbiAgICBsYWJlbDogXCJtYWduaXR1ZGVcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCJN4oKBID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbbWFnbml0dWRlXVwiXG4gIH0sXG4pXG52aWV3b2Ygb21lZ2FfMl9kaWZmb19kaWZmayA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDIsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPieKCgiA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBrXzJfZGlmZm9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC00LFxuICAgIG1heDogNCxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuNSxcbiAgICBsYWJlbDogXCJwb3NpdGlvblwiLFxuICAgIGZvcm1hdDogdiA9PiBcImvigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvbWV0ZXJdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV8yX2RpZmZvX2RpZmZrID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAtMC4yLFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwiz4bigoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlXzJfZGlmZm9fZGlmZmsgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMC44LFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk3igoIgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcblxucG9pbnRzX3NwYWNlX2RpZmZvX2RpZmZrID0gQXJyYXkuZnJvbShcbiAge2xlbmd0aDogc3BhY2VfYXJyYXlfZGlmZm9fZGlmZmsubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgc3BhY2U6IHNwYWNlX2FycmF5X2RpZmZvX2RpZmZrW2ldLFxuICAgICAgYW1wbGl0dWRlOiBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfMV9kaWZmb19kaWZmayAqIHRfZGlmZm9fZGlmZmssIGtfMV9kaWZmb19kaWZmayAqIHNwYWNlX2FycmF5X2RpZmZvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMV9kaWZmb19kaWZmaywgcGhhc2VfMV9kaWZmb19kaWZmaykucmVhbCArIFxuICAgICAgICBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfMl9kaWZmb19kaWZmayAqIHRfZGlmZm9fZGlmZmssIGtfMl9kaWZmb19kaWZmayAqIHNwYWNlX2FycmF5X2RpZmZvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMl9kaWZmb19kaWZmaywgcGhhc2VfMl9kaWZmb19kaWZmaykucmVhbFxuICAgIH1cbiAgfVxuKVxuXG5wb2ludF8xX2RpZmZvX2RpZmZrID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhXzFfZGlmZm9fZGlmZmsqdF9kaWZmb19kaWZmaywga18xX2RpZmZvX2RpZmZrICogeF9kaWZmb19kaWZmaywgbWFnbml0dWRlXzFfZGlmZm9fZGlmZmssIHBoYXNlXzFfZGlmZm9fZGlmZmspXG5wb2ludF8yX2RpZmZvX2RpZmZrID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhXzJfZGlmZm9fZGlmZmsqdF9kaWZmb19kaWZmaywga18yX2RpZmZvX2RpZmZrICogeF9kaWZmb19kaWZmaywgbWFnbml0dWRlXzJfZGlmZm9fZGlmZmssIHBoYXNlXzJfZGlmZm9fZGlmZmspXG5waGFzb3JfZGlmZm9fZGlmZmsgPSBbXG4gIHtcbiAgICByZWFsOiBwb2ludF8xX2RpZmZvX2RpZmZrLnJlYWwgKyBwb2ludF8yX2RpZmZvX2RpZmZrLnJlYWwsXG4gICAgaW1hZ2luYXJ5OiBwb2ludF8xX2RpZmZvX2RpZmZrLmltYWdpbmFyeSArIHBvaW50XzJfZGlmZm9fZGlmZmsuaW1hZ2luYXJ5XG4gIH1cbl1cbnBoYXNvcl9sb2N1c19kaWZmb19kaWZmayA9IEFycmF5LmZyb20oXG4gIHtsZW5ndGg6IHNwYWNlX2FycmF5X2RpZmZvX2RpZmZrLmxlbmd0aH0sIChfLCBpKSA9PiB7XG4gICAgY29uc3QgcGhhc29yXzFfZGlmZm9fZGlmZmsgPSBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfMV9kaWZmb19kaWZmayAqIHRfZGlmZm9fZGlmZmssIGtfMV9kaWZmb19kaWZmayAqIHNwYWNlX2FycmF5X2RpZmZvX2RpZmZrW2ldLCBtYWduaXR1ZGVfMV9kaWZmb19kaWZmaywgcGhhc2VfMV9kaWZmb19kaWZmaylcbiAgICBjb25zdCBwaGFzb3JfMl9kaWZmb19kaWZmayA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV8yX2RpZmZvX2RpZmZrICogdF9kaWZmb19kaWZmaywga18yX2RpZmZvX2RpZmZrICogc3BhY2VfYXJyYXlfZGlmZm9fZGlmZmtbaV0sIG1hZ25pdHVkZV8yX2RpZmZvX2RpZmZrLCBwaGFzZV8yX2RpZmZvX2RpZmZrKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlYWw6IHBoYXNvcl8xX2RpZmZvX2RpZmZrLnJlYWwgKyBwaGFzb3JfMl9kaWZmb19kaWZmay5yZWFsLFxuICAgICAgaW1hZ2luYXJ5OiBwaGFzb3JfMV9kaWZmb19kaWZmay5pbWFnaW5hcnkgKyBwaGFzb3JfMl9kaWZmb19kaWZmay5pbWFnaW5hcnlcbiAgICB9XG4gIH1cbilcblxue1xuICBjb25zdCBwaGFzZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJSZWFsXCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJJbWFnaW5hcnlcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LCBwb2ludF8xX2RpZmZvX2RpZmZrXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiZ3JlZW5cIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogMH0sIHBvaW50XzJfZGlmZm9fZGlmZmtdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJvcmFuZ2VcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbcG9pbnRfMV9kaWZmb19kaWZmaywgcGhhc29yX2RpZmZvX2RpZmZrWzBdLCBwb2ludF8yX2RpZmZvX2RpZmZrXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiBwaGFzb3JfZGlmZm9fZGlmZmtbMF0uaW1hZ2luYXJ5fSwgcGhhc29yX2RpZmZvX2RpZmZrWzBdXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5kb3QocGhhc29yX2RpZmZvX2RpZmZrLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCJ9KSxcblxuICAgICAgUGxvdC5saW5lKHBoYXNvcl9sb2N1c19kaWZmb19kaWZmaywge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwicHVycGxlXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgXSxcbiAgfSlcblxuICBjb25zdCBzcGFjZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJTcGFjZVwiLFxuICAgICAgZG9tYWluOiBbMCwgMTBdLFxuICAgIH0sXG4gICAgeToge1xuICAgICAgbGFiZWw6IFwiQW1wbGl0dWRlXCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICByYXRpbzogMSxcbiAgICB3aWR0aDogNDAwLFxuICAgIG1hcmtzOiBbXG4gICAgICBQbG90LnJ1bGVZKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuICAgICAgUGxvdC5ydWxlWChbMF0sIHtzdHJva2U6IFwiYmxhY2tcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcblxuICAgICAgUGxvdC5saW5lKFt7c3BhY2U6IHhfZGlmZm9fZGlmZmssIGFtcGxpdHVkZTogMH0sIHtzcGFjZTogeF9kaWZmb19kaWZmaywgYW1wbGl0dWRlOiBwaGFzb3JfZGlmZm9fZGlmZmtbMF0ucmVhbH1dLFxuICAgICAgICB7eDogXCJzcGFjZVwiLCB5OiBcImFtcGxpdHVkZVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5saW5lKHBvaW50c19zcGFjZV9kaWZmb19kaWZmaywge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5kb3QoW3tzcGFjZTogeF9kaWZmb19kaWZmaywgYW1wbGl0dWRlOiBwaGFzb3JfZGlmZm9fZGlmZmtbMF0ucmVhbH1dLCB7eDogXCJzcGFjZVwiLCB5OiBcImFtcGxpdHVkZVwifSksXG4gICAgXSxcbiAgfSlcblxuICByZXR1cm4gaHRtbGA8ZGl2IHN0eWxlPVwiZGlzcGxheTpmbGV4OyBnYXA6MjBweFwiPlxuICAgIDxoMz4gUGhhc2UgRG9tYWluXG4gICAgJHtwaGFzZV9wbG90fVxuICAgIDxoMz4gU3BhY2UgRG9tYWluXG4gICAgJHtzcGFjZV9wbG90fVxuICA8XFxkaXY+YFxufVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC0xMiIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxudGltZV9kdXJhdGlvbl9yZWwgPSAxMFxuc3BhY2VfZGlzdF9yZWwgPSAxMFxuc3BhY2VfYXJyYXlfcmVsID0gZDMudGlja3MoMCwgc3BhY2VfZGlzdF9yZWwsIHNwYWNlX2Rpc3RfcmVsKmZwcylcblxudmlld29mIHRfcmVsID0gU2NydWJiZXIoZDMudGlja3MoMCwgdGltZV9kdXJhdGlvbl9yZWwsIHRpbWVfZHVyYXRpb25fcmVsKmZwcyksIHtcbiAgYXV0b3BsYXk6IGZhbHNlLFxuICBsb29wOiB0cnVlLFxuICBpbml0aWFsOiAwLFxuICBmb3JtYXQ6IHggPT4gYHQgPSAke3gudG9GaXhlZCgyKX0gW3NlY11gLFxuICBkZWxheTogZHQgKiAxMDAwXG59KVxudmlld29mIHhfcmVsID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAwLFxuICAgIG1heDogc3BhY2VfZGlzdF9yZWwsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLFxuICAgIGxhYmVsOiBcInBvc2l0aW9uXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwieCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21ldGVyc11cIlxuICB9LFxuKVxudmlld29mIG9tZWdhX3JlbCA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLjAxLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDEsXG4gICAgbGFiZWw6IFwiYW5ndWxhciBmcmVxdWVuY3lcIixcbiAgICBmb3JtYXQ6IHYgPT4gXCLPiSA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW3JhZC9zZWNdXCJcbiAgfSxcbilcbnZpZXdvZiBrX3JlbCA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogLTQsXG4gICAgbWF4OiA0LFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMixcbiAgICBsYWJlbDogXCJwb3NpdGlvblwiLFxuICAgIGZvcm1hdDogdiA9PiBcImsgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvbWV0ZXJdXCJcbiAgfSxcbilcbnZpZXdvZiBwaGFzZV9yZWwgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC1NYXRoLlBJLFxuICAgIG1heDogTWF0aC5QSSxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuNSxcbiAgICBsYWJlbDogXCJwaGFzZSBzaGlmdFwiLFxuICAgIGZvcm1hdDogdiA9PiBcIs+GID0gXCIgKyB2LnRvRml4ZWQoMikgKyBcIiBbcmFkaWFuc11cIlxuICB9LFxuKVxudmlld29mIG1hZ25pdHVkZV9yZWwgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiAyLFxuICAgIHN0ZXA6IC4wMSxcbiAgICB2YWx1ZTogMS40LFxuICAgIGxhYmVsOiBcIm1hZ25pdHVkZVwiLFxuICAgIGZvcm1hdDogdiA9PiBcIk0gPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFttYWduaXR1ZGVdXCJcbiAgfSxcbilcbnZpZXdvZiBvbWVnYV9yX3JlbCA9IHNsaWRlcihcbiAge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDMsXG4gICAgc3RlcDogMC4wMSxcbiAgICB2YWx1ZTogMS41LFxuICAgIGxhYmVsOiBcImFuZ3VsYXIgZnJlcXVlbmN5XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwizqkgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvc2VjIC8gcmFkL3NlY11cIlxuICB9LFxuKVxudmlld29mIGtfcl9yZWwgPSBzbGlkZXIoXG4gIHtcbiAgICBtaW46IC00LFxuICAgIG1heDogNCxcbiAgICBzdGVwOiAuMDEsXG4gICAgdmFsdWU6IDAuNSxcbiAgICBsYWJlbDogXCJwb3NpdGlvblwiLFxuICAgIGZvcm1hdDogdiA9PiBcIksgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWQvbWV0IC8gcmFkL21ldF1cIlxuICB9LFxuKVxudmlld29mIHBoYXNlX3JfcmVsID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtTWF0aC5QSSxcbiAgICBtYXg6IE1hdGguUEksXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAtMC4yLFxuICAgIGxhYmVsOiBcInBoYXNlIHNoaWZ0XCIsXG4gICAgZm9ybWF0OiB2ID0+IFwi4oigzpMgPSBcIiArIHYudG9GaXhlZCgyKSArIFwiIFtyYWRpYW5zXVwiXG4gIH0sXG4pXG52aWV3b2YgbWFnbml0dWRlX3JfcmVsID0gc2xpZGVyKFxuICB7XG4gICAgbWluOiAtMixcbiAgICBtYXg6IDIsXG4gICAgc3RlcDogLjAxLFxuICAgIHZhbHVlOiAwLjgsXG4gICAgbGFiZWw6IFwibWFnbml0dWRlXCIsXG4gICAgZm9ybWF0OiB2ID0+IFwifM6TfCA9IFwiICsgdi50b0ZpeGVkKDIpICsgXCIgW21hZy9tYWddXCJcbiAgfSxcbilcblxucG9pbnRzX3NwYWNlX3JlbCA9IEFycmF5LmZyb20oXG4gIHtsZW5ndGg6IHNwYWNlX2FycmF5X3JlbC5sZW5ndGh9LCAoXywgaSkgPT4ge1xuICAgIHJldHVybiB7XG4gICAgICBzcGFjZTogc3BhY2VfYXJyYXlfcmVsW2ldLFxuICAgICAgYW1wbGl0dWRlOiBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfcmVsICogdF9yZWwsIGtfcmVsICogc3BhY2VfYXJyYXlfcmVsW2ldLCBtYWduaXR1ZGVfcmVsLCBwaGFzZV9yZWwpLnJlYWwgKyBcbiAgICAgICAgY2FsY3VsYXRlUGhhc29yKG9tZWdhX3JlbCAqIG9tZWdhX3JfcmVsICogdF9yZWwsIGtfcmVsICoga19yX3JlbCAqIHNwYWNlX2FycmF5X3JlbFtpXSwgbWFnbml0dWRlX3JlbCAqIG1hZ25pdHVkZV9yX3JlbCwgcGhhc2VfcmVsICsgcGhhc2Vfcl9yZWwpLnJlYWxcbiAgICB9XG4gIH1cbilcblxucG9pbnRfcmVsID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhX3JlbCp0X3JlbCwga19yZWwgKiB4X3JlbCwgbWFnbml0dWRlX3JlbCwgcGhhc2VfcmVsKVxucG9pbnRfcl9yZWwgPSBjYWxjdWxhdGVQaGFzb3Iob21lZ2FfcmVsICogb21lZ2Ffcl9yZWwqdF9yZWwsIGtfcmVsICoga19yX3JlbCAqIHhfcmVsLCBtYWduaXR1ZGVfcmVsICogbWFnbml0dWRlX3JfcmVsLCBwaGFzZV9yZWwgKyBwaGFzZV9yX3JlbClcbnBoYXNvcl9yZWwgPSBbXG4gIHtcbiAgICByZWFsOiBwb2ludF9yZWwucmVhbCArIHBvaW50X3JfcmVsLnJlYWwsXG4gICAgaW1hZ2luYXJ5OiBwb2ludF9yZWwuaW1hZ2luYXJ5ICsgcG9pbnRfcl9yZWwuaW1hZ2luYXJ5XG4gIH1cbl1cbnBoYXNvcl9sb2N1c19yZWwgPSBBcnJheS5mcm9tKFxuICB7bGVuZ3RoOiBzcGFjZV9hcnJheV9yZWwubGVuZ3RofSwgKF8sIGkpID0+IHtcbiAgICBjb25zdCBwaGFzb3JfcmVsID0gY2FsY3VsYXRlUGhhc29yKG9tZWdhX3JlbCAqIHRfcmVsLCBrX3JlbCAqIHNwYWNlX2FycmF5X3JlbFtpXSwgbWFnbml0dWRlX3JlbCwgcGhhc2VfcmVsKVxuICAgIGNvbnN0IHBoYXNvcl9yX3JlbCA9IGNhbGN1bGF0ZVBoYXNvcihvbWVnYV9yZWwgKiBvbWVnYV9yX3JlbCAqIHRfcmVsLCBrX3JlbCAqIGtfcl9yZWwgKiBzcGFjZV9hcnJheV9yZWxbaV0sIG1hZ25pdHVkZV9yZWwgKiBtYWduaXR1ZGVfcl9yZWwsIHBoYXNlX3JlbCArIHBoYXNlX3JfcmVsKVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIHJlYWw6IHBoYXNvcl9yZWwucmVhbCArIHBoYXNvcl9yX3JlbC5yZWFsLFxuICAgICAgaW1hZ2luYXJ5OiBwaGFzb3JfcmVsLmltYWdpbmFyeSArIHBoYXNvcl9yX3JlbC5pbWFnaW5hcnlcbiAgICB9XG4gIH1cbilcblxue1xuICBjb25zdCBwaGFzZV9wbG90ID0gUGxvdC5wbG90KHtcbiAgICB4OiB7XG4gICAgICBsYWJlbDogXCJSZWFsXCIsXG4gICAgICBkb21haW46IFstNCwgNF0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJJbWFnaW5hcnlcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmxpbmUoW3tyZWFsOiAwLCBpbWFnaW5hcnk6IDB9LCBwb2ludF9yZWxdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJncmVlblwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5saW5lKFt7cmVhbDogMCwgaW1hZ2luYXJ5OiAwfSwgcG9pbnRfcl9yZWxdLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJvcmFuZ2VcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbcG9pbnRfcmVsLCBwaGFzb3JfcmVsWzBdLCBwb2ludF9yX3JlbF0sIHt4OiBcInJlYWxcIiwgeTogXCJpbWFnaW5hcnlcIiwgc3Ryb2tlV2lkdGg6IDJ9KSxcbiAgICAgIFBsb3QubGluZShbe3JlYWw6IDAsIGltYWdpbmFyeTogcGhhc29yX3JlbFswXS5pbWFnaW5hcnl9LCBwaGFzb3JfcmVsWzBdXSwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwiLCBzdHJva2U6IFwiYmx1ZVwiLCBzdHJva2VXaWR0aDogNH0pLFxuICAgICAgUGxvdC5kb3QocGhhc29yX3JlbCwge3g6IFwicmVhbFwiLCB5OiBcImltYWdpbmFyeVwifSksXG5cbiAgICAgIFBsb3QubGluZShwaGFzb3JfbG9jdXNfcmVsLCB7eDogXCJyZWFsXCIsIHk6IFwiaW1hZ2luYXJ5XCIsIHN0cm9rZTogXCJwdXJwbGVcIiwgc3Ryb2tlV2lkdGg6IDF9KSxcbiAgICBdLFxuICB9KVxuXG4gIGNvbnN0IHNwYWNlX3Bsb3QgPSBQbG90LnBsb3Qoe1xuICAgIHg6IHtcbiAgICAgIGxhYmVsOiBcIlNwYWNlXCIsXG4gICAgICBkb21haW46IFswLCAxMF0sXG4gICAgfSxcbiAgICB5OiB7XG4gICAgICBsYWJlbDogXCJBbXBsaXR1ZGVcIixcbiAgICAgIGRvbWFpbjogWy00LCA0XSxcbiAgICB9LFxuICAgIHJhdGlvOiAxLFxuICAgIHdpZHRoOiA0MDAsXG4gICAgbWFya3M6IFtcbiAgICAgIFBsb3QucnVsZVkoWzBdLCB7c3Ryb2tlOiBcImJsYWNrXCIsIHN0cm9rZVdpZHRoOiAxfSksXG4gICAgICBQbG90LnJ1bGVYKFswXSwge3N0cm9rZTogXCJibGFja1wiLCBzdHJva2VXaWR0aDogMX0pLFxuXG4gICAgICBQbG90LmxpbmUoW3tzcGFjZTogeF9yZWwsIGFtcGxpdHVkZTogMH0sIHtzcGFjZTogeF9yZWwsIGFtcGxpdHVkZTogcGhhc29yX3JlbFswXS5yZWFsfV0sXG4gICAgICAgIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCIsIHN0cm9rZTogXCJibHVlXCIsIHN0cm9rZVdpZHRoOiA0fSksXG4gICAgICBQbG90LmxpbmUocG9pbnRzX3NwYWNlX3JlbCwge3g6IFwic3BhY2VcIiwgeTogXCJhbXBsaXR1ZGVcIiwgc3Ryb2tlOiBcInJlZFwiLCBzdHJva2VXaWR0aDogMn0pLFxuICAgICAgUGxvdC5kb3QoW3tzcGFjZTogeF9yZWwsIGFtcGxpdHVkZTogcGhhc29yX3JlbFswXS5yZWFsfV0sIHt4OiBcInNwYWNlXCIsIHk6IFwiYW1wbGl0dWRlXCJ9KSxcbiAgICBdLFxuICB9KVxuXG4gIHJldHVybiBodG1sYDxkaXYgc3R5bGU9XCJkaXNwbGF5OmZsZXg7IGdhcDoyMHB4XCI+XG4gICAgPGgzPiBQaGFzZSBEb21haW5cbiAgICAke3BoYXNlX3Bsb3R9XG4gICAgPGgzPiBTcGFjZSBEb21haW5cbiAgICAke3NwYWNlX3Bsb3R9XG4gIDxcXGRpdj5gXG59XG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2FuZ2xlJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlX3NoaWZ0JykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdhbmdsZV8xJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8xJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2FuZ2xlXzInKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlXzInKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndF90aW1lX3NpbmdsZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdvbWVnYV90aW1lX3NpbmdsZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdwaGFzZV90aW1lX3NpbmdsZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdtYWduaXR1ZGVfdGltZV9zaW5nbGUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndF9tYXRjaF9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ29tZWdhX21hdGNoX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMV9tYXRjaF9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8xX21hdGNoX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMl9tYXRjaF9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8yX21hdGNoX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndF9kaWZmX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnb21lZ2FfMV9kaWZmX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMV9kaWZmX2ZyZXEnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlXzFfZGlmZl9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ29tZWdhXzJfZGlmZl9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlXzJfZGlmZl9mcmVxJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8yX2RpZmZfZnJlcScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCd0aW1lX3F1YWQnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndF9zcGFjZXRpbWUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgneF9zcGFjZXRpbWUnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnb21lZ2Ffc3BhY2V0aW1lJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2tfc3BhY2V0aW1lJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlX3NwYWNldGltZScpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdtYWduaXR1ZGVfc3BhY2V0aW1lJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3Rfc2FtZW9fc2FtZWsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgneF9zYW1lb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdvbWVnYV9zYW1lb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdrX3NhbWVvX3NhbWVrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlXzFfc2FtZW9fc2FtZWsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlXzFfc2FtZW9fc2FtZWsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMl9zYW1lb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdtYWduaXR1ZGVfMl9zYW1lb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCd0X3NhbWVvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3hfc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnb21lZ2Ffc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgna18xX3NhbWVvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlXzFfc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlXzFfc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgna18yX3NhbWVvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlXzJfc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlXzJfc2FtZW9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgndF9kaWZmb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCd4X2RpZmZvX3NhbWVrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2tfZGlmZm9fc2FtZWsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnb21lZ2FfMV9kaWZmb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdwaGFzZV8xX2RpZmZvX3NhbWVrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8xX2RpZmZvX3NhbWVrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ29tZWdhXzJfZGlmZm9fc2FtZWsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMl9kaWZmb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdtYWduaXR1ZGVfMl9kaWZmb19zYW1laycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCd0X2RpZmZvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3hfZGlmZm9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnb21lZ2FfMV9kaWZmb19kaWZmaycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdrXzFfZGlmZm9fZGlmZmsnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgncGhhc2VfMV9kaWZmb19kaWZmaycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdtYWduaXR1ZGVfMV9kaWZmb19kaWZmaycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdvbWVnYV8yX2RpZmZvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ2tfMl9kaWZmb19kaWZmaycpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdwaGFzZV8yX2RpZmZvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV8yX2RpZmZvX2RpZmZrJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3RfcmVsJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3hfcmVsJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ29tZWdhX3JlbCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdrX3JlbCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdwaGFzZV9yZWwnKSJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldFF1aWV0Iiwic291cmNlIjoic2hpbnlJbnB1dCgnbWFnbml0dWRlX3JlbCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdvbWVnYV9yX3JlbCcpIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0UXVpZXQiLCJzb3VyY2UiOiJzaGlueUlucHV0KCdrX3JfcmVsJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ3BoYXNlX3JfcmVsJykifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXRRdWlldCIsInNvdXJjZSI6InNoaW55SW5wdXQoJ21hZ25pdHVkZV9yX3JlbCcpIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../../blog";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "..";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
    const viewSource = window.document.getElementById('quarto-view-source') ||
                       window.document.getElementById('quarto-code-tools-source');
    if (viewSource) {
      const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
      viewSource.addEventListener("click", function(e) {
        if (sourceUrl) {
          // rstudio viewer pane
          if (/\bcapabilities=\b/.test(window.location)) {
            window.open(sourceUrl);
          } else {
            window.location.href = sourceUrl;
          }
        } else {
          const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
          modal.show();
        }
        return false;
      });
    }
    function toggleCodeHandler(show) {
      return function(e) {
        const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
        for (let i=0; i<detailsSrc.length; i++) {
          const details = detailsSrc[i].parentElement;
          if (show) {
            details.open = true;
          } else {
            details.removeAttribute("open");
          }
        }
        const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
        const fromCls = show ? "hidden" : "unhidden";
        const toCls = show ? "unhidden" : "hidden";
        for (let i=0; i<cellCodeDivs.length; i++) {
          const codeDiv = cellCodeDivs[i];
          if (codeDiv.classList.contains(fromCls)) {
            codeDiv.classList.remove(fromCls);
            codeDiv.classList.add(toCls);
          } 
        }
        return false;
      }
    }
    const hideAllCode = window.document.getElementById("quarto-hide-all-code");
    if (hideAllCode) {
      hideAllCode.addEventListener("click", toggleCodeHandler(false));
    }
    const showAllCode = window.document.getElementById("quarto-show-all-code");
    if (showAllCode) {
      showAllCode.addEventListener("click", toggleCodeHandler(true));
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/alexchoi\.me");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<input type="hidden" id="giscus-base-theme" value="light">
<input type="hidden" id="giscus-alt-theme" value="dark">
<script>
  function loadGiscus() {
    // Function to get the theme based on body class
    const getTheme = () => {
      let baseTheme = document.getElementById('giscus-base-theme').value;
      let altTheme = document.getElementById('giscus-alt-theme').value;
      return document.body.classList.contains('quarto-dark') ? altTheme : baseTheme;
    };
    const script = document.createElement("script");
    script.src = "https://giscus.app/client.js";
    script.async = true;
    script.dataset.repo = "aechoi/blog";
    script.dataset.repoId = "R_kgDOPWDacg";
    script.dataset.category = "Announcements";
    script.dataset.categoryId = "DIC_kwDOPWDacs4CtpTY";
    script.dataset.mapping = "title";
    script.dataset.reactionsEnabled = "1";
    script.dataset.emitMetadata = "0";
    script.dataset.inputPosition = "top";
    script.dataset.theme = getTheme();
    script.dataset.lang = "en";
    script.crossOrigin = "anonymous";
    // Append the script to the desired div instead of at the end of the body
    document.getElementById("quarto-content").appendChild(script);
  }
  loadGiscus();
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="mailto:contact@alexchoi.me">
      <i class="bi bi-envelope-fill" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/aechoi">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://www.linkedin.com/in/alexander-choi/">
      <i class="bi bi-linkedin" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>




</body></html>